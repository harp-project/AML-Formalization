<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>ProofSystem.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.15.0+0.15.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> ssreflect ssrfun ssrbool.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> <span class="kn">Ltac2</span> <span class="kn">Require Import</span> <span class="kn">Ltac2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> Logic.Classical_Prop Logic.Eqdep_dec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> MatchingLogic.Utils <span class="kn">Require Import</span> stdpp_ext Lattice.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> MatchingLogic <span class="kn">Require Import</span> Syntax NamedAxioms DerivedOperators_Syntax wftactics.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk0"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> base fin_sets sets propset gmap.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">New coercion path [Bool.Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote><blockquote class="alectryon-message">New coercion path [Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> MatchingLogic.Utils <span class="kn">Require Import</span> extralibrary.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> MatchingLogic.Syntax.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> MatchingLogic.Substitution.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> MatchingLogic.DerivedOperators_Syntax.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kt">Set</span> Default <span class="kn">Proof</span> Mode <span class="s2">&quot;Classic&quot;</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">ml_proof_system</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> ml_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">Œ£</span> : Signature}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Proof system for AML ref. snapshot: Section 3 *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Reserved Notation</span> <span class="s2">&quot;theory ‚ä¢r pattern&quot;</span> (<span class="kn">at level</span> <span class="mi">76</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">ML_proof_system</span> (<span class="nv">theory</span> : Theory) :
    Pattern -&gt; <span class="kt">Set</span> :=

  <span class="c">(* Hypothesis *)</span>
  | hypothesis (axiom : Pattern) :
      well_formed axiom -&gt;
      (axiom ‚àà theory) -&gt; theory ‚ä¢r axiom

  <span class="c">(* FOL reasoning *)</span>
  <span class="c">(* Propositional tautology *)</span>
  | P1 (phi psi : Pattern) :
      well_formed phi -&gt; well_formed psi -&gt;
      theory ‚ä¢r (phi ---&gt; (psi ---&gt; phi))
  | P2 (phi psi xi : Pattern) :
      well_formed phi -&gt; well_formed psi -&gt; well_formed xi -&gt;
      theory ‚ä¢r ((phi ---&gt; (psi ---&gt; xi)) ---&gt; ((phi ---&gt; psi) ---&gt; (phi ---&gt; xi)))
  | P3 (phi : Pattern) :
      well_formed phi -&gt;
      theory ‚ä¢r (((phi ---&gt; Bot) ---&gt; Bot) ---&gt; phi)

  <span class="c">(* Modus ponens *)</span>
  | Modus_ponens (phi1 phi2 : Pattern) :
      theory ‚ä¢r phi1 -&gt;
      theory ‚ä¢r (phi1 ---&gt; phi2) -&gt;
      theory ‚ä¢r phi2

  <span class="c">(* Existential quantifier *)</span>
  | Ex_quan (phi : Pattern) (y : <span class="nb">evar</span>) :
      well_formed (patt_exists phi) -&gt;
      theory ‚ä¢r (<span class="nb">instantiate</span> (patt_exists phi) (patt_free_evar y) ---&gt; (patt_exists phi))

  <span class="c">(* Existential generalization *)</span>
  | Ex_gen (phi1 phi2 : Pattern) (x : <span class="nb">evar</span>) :
      well_formed phi1 -&gt; well_formed phi2 -&gt;
      theory ‚ä¢r (phi1 ---&gt; phi2) -&gt;
      x ‚àâ (free_evars phi2) -&gt;
      theory ‚ä¢r (exists_quantify x phi1 ---&gt; phi2)

  <span class="c">(* Frame reasoning *)</span>
  <span class="c">(* Propagation bottom *)</span>
  | Prop_bott_left (phi : Pattern) :
      well_formed phi -&gt;
      theory ‚ä¢r (patt_bott $ phi ---&gt; patt_bott)

  | Prop_bott_right (phi : Pattern) :
      well_formed phi -&gt;
      theory ‚ä¢r (phi $ patt_bott ---&gt; patt_bott)

  <span class="c">(* Propagation disjunction *)</span>
  | Prop_disj_left (phi1 phi2 psi : Pattern) :
      well_formed phi1 -&gt; well_formed phi2 -&gt; well_formed psi -&gt;
      theory ‚ä¢r (((phi1 or phi2) $ psi) ---&gt; ((phi1 $ psi) or (phi2 $ psi)))

  | Prop_disj_right (phi1 phi2 psi : Pattern) :
      well_formed phi1 -&gt; well_formed phi2 -&gt; well_formed psi -&gt;
      theory ‚ä¢r ((psi $ (phi1 or phi2)) ---&gt; ((psi $ phi1) or (psi $ phi2)))

  <span class="c">(* Propagation exist *)</span>
  | Prop_ex_left (phi psi : Pattern) :
      well_formed (ex , phi) -&gt; well_formed psi -&gt;
      theory ‚ä¢r (((ex , phi) $ psi) ---&gt; (ex , phi $ psi))

  | Prop_ex_right (phi psi : Pattern) :
      well_formed (ex , phi) -&gt; well_formed psi -&gt;
      theory ‚ä¢r ((psi $ (ex , phi)) ---&gt; (ex , psi $ phi))

  <span class="c">(* Framing *)</span>
  | Framing_left (phi1 phi2 psi : Pattern) :
      well_formed psi -&gt;
      theory ‚ä¢r (phi1 ---&gt; phi2) -&gt;
      theory ‚ä¢r ((phi1 $ psi) ---&gt; (phi2 $ psi))

  | Framing_right (phi1 phi2 psi : Pattern) :
      well_formed psi -&gt;
      theory ‚ä¢r (phi1 ---&gt; phi2) -&gt;
      theory ‚ä¢r ((psi $ phi1) ---&gt; (psi $ phi2))

  <span class="c">(* Fixpoint reasoning *)</span>
  <span class="c">(* Set Variable Substitution *)</span>
  | Svar_subst (phi psi : Pattern) (X : svar) :
      well_formed phi -&gt; well_formed psi -&gt;
      theory ‚ä¢r phi -&gt; theory ‚ä¢r (phi^[[svar: X ‚Ü¶ psi]])

  <span class="c">(* Pre-Fixpoint *)</span>
  | Pre_fixp (phi : Pattern) :
      well_formed (patt_mu phi) -&gt;
      theory ‚ä¢r (<span class="nb">instantiate</span> (patt_mu phi) (patt_mu phi) ---&gt; (patt_mu phi))

  <span class="c">(* Knaster-Tarski *)</span>
  | Knaster_tarski (phi psi : Pattern) :
      well_formed (patt_mu phi) -&gt;
      theory ‚ä¢r ((<span class="nb">instantiate</span> (patt_mu phi) psi) ---&gt; psi) -&gt;
      theory ‚ä¢r ((@patt_mu Œ£ phi) ---&gt; psi)

  <span class="c">(* Technical rules *)</span>
  <span class="c">(* Existence *)</span>
  | Existence : theory ‚ä¢r (ex , patt_bound_evar <span class="mi">0</span>)

  <span class="c">(* Singleton *)</span>
  | Singleton_ctx (C1 C2 : Application_context) (phi : Pattern) (x : <span class="nb">evar</span>) :
      well_formed phi -&gt;
      theory ‚ä¢r (! ((subst_ctx C1 (patt_free_evar x <span class="kn">and</span> phi)) <span class="kn">and</span>
                   (subst_ctx C2 (patt_free_evar x <span class="kn">and</span> (! phi)))))

  <span class="kn">where</span> <span class="s2">&quot;theory ‚ä¢r pattern&quot;</span> := (ML_proof_system theory <span class="nb">pattern</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk1"><span class="kn">Instance</span> <span class="nf">ML_proof_system_eqdec</span>: <span class="kr">forall</span> <span class="nv">gamma</span> <span class="nv">phi</span>, EqDecision (ML_proof_system gamma phi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">gamma</span> : Theory) (<span class="nv">phi</span> : Pattern),
  EqDecision (gamma ‚ä¢r phi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">gamma</span> : Theory) (<span class="nv">phi</span> : Pattern),
  EqDecision (gamma ‚ä¢r phi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk3"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>phi</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">EqDecision (gamma ‚ä¢r phi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk4"><span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>phi</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>gamma ‚ä¢r phi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision (x = y)</div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk5"><span class="nb">unfold</span> Decision.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>phi</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>gamma ‚ä¢r phi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x = y} + {x ‚â† y}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk6"><span class="kn">Fail</span> <span class="bp">decide equality</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
Abstracting <span class="nb">over</span> the terms <span class="s2">&quot;axiom&quot;</span> <span class="kn">and</span> <span class="s2">&quot;x0&quot;</span>
leads to a term
<span class="kr">Œª</span> (<span class="nv">axiom0</span> : Pattern) (<span class="nv">x1</span> : gamma ‚ä¢r axiom0),
  {hypothesis gamma axiom0 i e = x1} +
  {hypothesis gamma axiom0 i e ‚â† x1}
which <span class="kr">is</span> ill-typed.
Reason <span class="kr">is</span>: Illegal application: 
The term <span class="s2">&quot;hypothesis&quot;</span> of type
 <span class="s2">&quot;‚àÄ (theory : Theory) (axiom : Pattern),</span>
<span class="s2">    well_formed axiom</span>
<span class="s2">    ‚Üí axiom ‚àà theory ‚Üí theory ‚ä¢r axiom&quot;</span>
cannot be applied to the terms
 <span class="s2">&quot;gamma&quot;</span> : <span class="s2">&quot;Theory&quot;</span>
 <span class="s2">&quot;axiom0&quot;</span> : <span class="s2">&quot;Pattern&quot;</span>
 <span class="s2">&quot;i&quot;</span> : <span class="s2">&quot;is_true (well_formed axiom)&quot;</span>
 <span class="s2">&quot;e&quot;</span> : <span class="s2">&quot;axiom ‚àà gamma&quot;</span>
The <span class="mi">3</span>rd term has type <span class="s2">&quot;is_true (well_formed axiom)&quot;</span>
which should be coercible to
 <span class="s2">&quot;is_true (well_formed axiom0)&quot;</span>.</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>phi</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>gamma ‚ä¢r phi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x = y} + {x ‚â† y}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk7"><span class="kn">Lemma</span> <span class="nf">proved_impl_wf</span> <span class="nv">Œì</span> <span class="nv">œï</span>:
  Œì ‚ä¢r œï -&gt; well_formed œï.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œì ‚ä¢r œï ‚Üí well_formed œï</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œì ‚ä¢r œï ‚Üí well_formed œï</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk9"><span class="nb">intros</span> pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>Œì ‚ä¢r œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed œï</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> pf; wf_auto2.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Set Printing All</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka"><span class="kn">Lemma</span> <span class="nf">cast_proof</span> {<span class="nv">Œì</span>} {<span class="nv">œï</span>} {<span class="nv">œà</span>} (<span class="nv">e</span> : œà = œï) : ML_proof_system Œì œï -&gt; ML_proof_system Œì œà.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : ML_proof_system Œì œï, ML_proof_system Œì œà</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : ML_proof_system Œì œï, ML_proof_system Œì œà</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkc"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Œì œà</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkd"><span class="nb">rewrite</span> &lt;- e <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œà</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Œì œà</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* TODO make this return well-formed patterns. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">framing_patterns</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : Œì ‚ä¢r œï) : gset wfPattern :=
  <span class="kr">match</span> pf <span class="kr">with</span>
  | hypothesis _ _ _ _ =&gt; ‚àÖ
  | P1 _ _ _ _ _ =&gt; ‚àÖ
  | P2 _ _ _ _ _ _ _ =&gt; ‚àÖ
  | P3 _ _ _ =&gt; ‚àÖ
  | Modus_ponens _ _ _ m0 m1
    =&gt; (@framing_patterns _ _ m0) ‚à™ (@framing_patterns _ _ m1)
  | Ex_quan _ _ _ _ =&gt; ‚àÖ
  | Ex_gen _ _ _ x _ _ pf _ =&gt; @framing_patterns _ _ pf
  | Prop_bott_left _ _ _ =&gt; ‚àÖ
  | Prop_bott_right _ _ _ =&gt; ‚àÖ
  | Prop_disj_left _ _ _ _ _ _ _ =&gt; ‚àÖ
  | Prop_disj_right _ _ _ _ _ _ _ =&gt; ‚àÖ
  | Prop_ex_left _ _ _ _ _ =&gt; ‚àÖ
  | Prop_ex_right _ _ _ _ _ =&gt; ‚àÖ
  | Framing_left _ _ _ psi wfp m0 =&gt; {[(exist _ psi wfp)]} ‚à™ (@framing_patterns _ _ m0)
  | Framing_right _ _ _ psi wfp m0 =&gt; {[(exist _ psi wfp)]} ‚à™ (@framing_patterns _ _ m0)
  | Svar_subst _ _ _ _ _ _ m0 =&gt; @framing_patterns _ _ m0
  | Pre_fixp _ _ _ =&gt; ‚àÖ
  | Knaster_tarski _ _ phi psi m0 =&gt; @framing_patterns _ _ m0
  | Existence _ =&gt; ‚àÖ
  | Singleton_ctx _ _ _ _ _ _ =&gt; ‚àÖ
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">uses_ex_gen</span> (<span class="nv">EvS</span> : EVarSet) <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : ML_proof_system Œì œï) :=
    <span class="kr">match</span> pf <span class="kr">with</span>
    | hypothesis _ _ _ _ =&gt; false
    | P1 _ _ _ _ _ =&gt; false
    | P2 _ _ _ _ _ _ _ =&gt; false
    | P3 _ _ _ =&gt; false
    | Modus_ponens _ _ _ m0 m1
      =&gt; uses_ex_gen EvS _ _ m0
         || uses_ex_gen EvS _ _ m1
    | Ex_quan _ _ _ _ =&gt; false
    | Ex_gen _ _ _ x _ _ pf _ =&gt; <span class="kr">if</span> decide (x ‚àà EvS) <span class="kr">is</span> <span class="nb">left</span> _ <span class="kr">then</span> true <span class="kr">else</span> uses_ex_gen EvS _ _ pf
    | Prop_bott_left _ _ _ =&gt; false
    | Prop_bott_right _ _ _ =&gt; false
    | Prop_disj_left _ _ _ _ _ _ _ =&gt; false
    | Prop_disj_right _ _ _ _ _ _ _ =&gt; false
    | Prop_ex_left _ _ _ _ _ =&gt; false
    | Prop_ex_right _ _ _ _ _ =&gt; false
    | Framing_left _ _ _ _ _ m0 =&gt; uses_ex_gen EvS _ _ m0
    | Framing_right _ _ _ _ _ m0 =&gt; uses_ex_gen EvS _ _ m0
    | Svar_subst _ _ _ _ _ _ m0 =&gt; uses_ex_gen EvS _ _ m0
    | Pre_fixp _ _ _ =&gt; false
    | Knaster_tarski _ _ phi psi m0 =&gt; uses_ex_gen EvS _ _ m0
    | Existence _ =&gt; false
    | Singleton_ctx _ _ _ _ _ _ =&gt; false
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">uses_of_ex_gen</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : ML_proof_system Œì œï) : EVarSet :=
      <span class="kr">match</span> pf <span class="kr">with</span>
      | hypothesis _ _ _ _ =&gt; ‚àÖ
      | P1 _ _ _ _ _ =&gt; ‚àÖ
      | P2 _ _ _ _ _ _ _ =&gt; ‚àÖ
      | P3 _ _ _ =&gt; ‚àÖ
      | Modus_ponens _ _ _ m0 m1
        =&gt; uses_of_ex_gen _ _ m0
           ‚à™ uses_of_ex_gen _ _ m1
      | Ex_quan _ _ _ _ =&gt; ‚àÖ
      | Ex_gen _ _ _ x _ _ pf _ =&gt; {[x]} ‚à™ uses_of_ex_gen _ _ pf
      | Prop_bott_left _ _ _ =&gt; ‚àÖ
      | Prop_bott_right _ _ _ =&gt; ‚àÖ
      | Prop_disj_left _ _ _ _ _ _ _ =&gt; ‚àÖ
      | Prop_disj_right _ _ _ _ _ _ _ =&gt; ‚àÖ
      | Prop_ex_left _ _ _ _ _ =&gt; ‚àÖ
      | Prop_ex_right _ _ _ _ _ =&gt; ‚àÖ
      | Framing_left _ _ _ _ _ m0 =&gt; uses_of_ex_gen _ _ m0
      | Framing_right _ _ _ _ _ m0 =&gt; uses_of_ex_gen _ _ m0
      | Svar_subst _ _ _ _ _ _ m0 =&gt; uses_of_ex_gen _ _ m0
      | Pre_fixp _ _ _ =&gt; ‚àÖ
      | Knaster_tarski _ _ phi psi m0 =&gt; uses_of_ex_gen _ _ m0
      | Existence _ =&gt; ‚àÖ
      | Singleton_ctx _ _ _ _ _ _ =&gt; ‚àÖ
      <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chke"><span class="kn">Lemma</span> <span class="nf">uses_of_ex_gen_correct</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : ML_proof_system Œì œï) (<span class="nv">x</span> : <span class="nb">evar</span>) :
    x ‚àà uses_of_ex_gen Œì œï pf &lt;-&gt; uses_ex_gen {[x]} Œì œï pf = true.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì œï pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì œï
        pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì œï pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì œï
        pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk10"><span class="nb">induction</span> pf; <span class="nb">simpl</span>; <span class="kp">try</span> set_solver.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì phi1 pf1))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì phi1 pf1) true)</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf2))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf2)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@union (@EVarSet Œ£)
        (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        (uses_of_ex_gen Œì phi1 pf1)
        (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf2)))
  (@eq bool
     (orb
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì phi1 pf1)
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf2)) true)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk11" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk11"><hr></label><div class="goal-conclusion">iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@union (@EVarSet Œ£)
        (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton 
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0)
        (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf)))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
            (@EVarSet Œ£)
            (@gset_elem_of 
               (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton 
                  (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
         (@decide_rel (@<span class="nb">evar</span> (@variables Œ£))
            (@EVarSet Œ£)
            (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_elem_of 
                  (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))))
            (@gset_elem_of_dec 
               (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton 
                  (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton 
                 (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf
     <span class="kr">end</span> true)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk12">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì phi1 pf1))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì phi1 pf1) true)</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf2))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf2)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@union (@EVarSet Œ£)
        (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        (uses_of_ex_gen Œì phi1 pf1)
        (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf2)))
  (@eq bool
     (orb
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì phi1 pf1)
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf2)) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk13"><span class="nb">rewrite</span> orb_true_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì phi1 pf1))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì phi1 pf1) true)</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf2))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf2)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@union (@EVarSet Œ£)
        (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        (uses_of_ex_gen Œì phi1 pf1)
        (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf2)))
  (or
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì phi1 pf1) true)
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf2) true))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">set_solver.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk14">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@union (@EVarSet Œ£)
        (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0)
        (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf)))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
            (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
         (@decide_rel (@<span class="nb">evar</span> (@variables Œ£))
            (@EVarSet Œ£)
            (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))))
            (@gset_elem_of_dec (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf
     <span class="kr">end</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk15">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@union (@EVarSet Œ£)
        (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0)
        (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf)))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
            (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
         (@decide_rel (@<span class="nb">evar</span> (@variables Œ£))
            (@EVarSet Œ£)
            (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))))
            (@gset_elem_of_dec (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf
     <span class="kr">end</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk16"><span class="nb">rewrite</span> elem_of_union.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0))
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf)))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
            (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
         (@decide_rel (@<span class="nb">evar</span> (@variables Œ£))
            (@EVarSet Œ£)
            (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))))
            (@gset_elem_of_dec (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf
     <span class="kr">end</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk17"><span class="nb">rewrite</span> IHpf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0))
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf) true))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
            (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
         (@decide_rel (@<span class="nb">evar</span> (@variables Œ£))
            (@EVarSet Œ£)
            (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))))
            (@gset_elem_of_dec (@<span class="nb">evar</span> (@variables Œ£))
               (@evar_eqdec (@variables Œ£))
               (@evar_countable (@variables Œ£))) x0
            (@singleton (@<span class="nb">evar</span> (@variables Œ£))
               (@EVarSet Œ£)
               (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                  (@evar_eqdec (@variables Œ£))
                  (@evar_countable (@variables Œ£))) x))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf
     <span class="kr">end</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk18"><span class="nb">destruct</span> (decide (x0 ‚àà {[x]})) <span class="kr">as</span> [Hin|Hnotin].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
  (@EVarSet Œ£)
  (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@evar_eqdec (@variables Œ£))
     (@evar_countable (@variables Œ£))) x0
  (@singleton (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0))
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf) true))
  (@eq bool true true)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk19"><hr></label><div class="goal-conclusion">iff
  (or
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
        (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton 
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0))
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton 
                 (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf) true))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton 
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì
        (@patt_imp Œ£ phi1 phi2) pf) true)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk1a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
  (@EVarSet Œ£)
  (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@evar_eqdec (@variables Œ£))
     (@evar_countable (@variables Œ£))) x0
  (@singleton (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0))
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf) true))
  (@eq bool true true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk1b"><span class="nb">rewrite</span> elem_of_singleton <span class="kr">in</span> Hin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>@eq (@<span class="nb">evar</span> (@variables Œ£)) x0 x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0))
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf) true))
  (@eq bool true true)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk1c"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x))
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf) true))
  (@eq bool true true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk1d"><span class="nb">split</span>; <span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>or
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton 
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x)
        Œì (@patt_imp Œ£ phi1 phi2) pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool true true</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk1e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool true true</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk1e"><hr></label><div class="goal-conclusion">or
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) 
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton 
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì
        (@patt_imp Œ£ phi1 phi2) pf) true)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk1f"><span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool true true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">or
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì
        (@patt_imp Œ£ phi1 phi2) pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk20"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool true true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
  (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@evar_eqdec (@variables Œ£))
     (@evar_countable (@variables Œ£))) x
  (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk21"><span class="nb">rewrite</span> elem_of_singleton.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool true true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@<span class="nb">evar</span> (@variables Œ£)) x x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk22">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0))
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf) true))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì
        (@patt_imp Œ£ phi1 phi2) pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk23">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x0))
     (@eq bool
        (uses_ex_gen
           (@singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@EVarSet Œ£)
              (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
                 (@evar_eqdec (@variables Œ£))
                 (@evar_countable (@variables Œ£))) x)
           Œì (@patt_imp Œ£ phi1 phi2) pf) true))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì
        (@patt_imp Œ£ phi1 phi2) pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk24"><span class="nb">split</span>; <span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>or
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x0))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton 
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x)
        Œì (@patt_imp Œ£ phi1 phi2) pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk25"><hr></label><div class="goal-conclusion">or
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) 
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x0))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton 
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì
        (@patt_imp Œ£ phi1 phi2) pf) true)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk26">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>or
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x0))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton 
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x)
        Œì (@patt_imp Œ£ phi1 phi2) pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk27"><span class="nb">destruct</span> H <span class="kr">as</span> [H|H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
  (@EVarSet Œ£)
  (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@evar_eqdec (@variables Œ£))
     (@evar_countable (@variables Œ£))) x
  (@singleton (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk28" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk28"><hr></label><div class="goal-conclusion">@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) 
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk29">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
  (@EVarSet Œ£)
  (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@evar_eqdec (@variables Œ£))
     (@evar_countable (@variables Œ£))) x
  (@singleton (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk2a"><span class="nb">exfalso</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
  (@EVarSet Œ£)
  (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@evar_eqdec (@variables Œ£))
     (@evar_countable (@variables Œ£))) x
  (@singleton (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">set_solver.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk2b">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk2c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">or
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x0))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì
        (@patt_imp Œ£ phi1 phi2) pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk2d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">or
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x0))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£))) x) Œì
        (@patt_imp Œ£ phi1 phi2) pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk2e"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi1)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi2)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@free_evars Œ£ phi2))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>@<span class="nb">evar</span> (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£)) 
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
        pf))
  (@eq bool
     (uses_ex_gen
        (@singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@EVarSet Œ£)
           (@gset_singleton
              (@<span class="nb">evar</span> (@variables Œ£))
              (@evar_eqdec (@variables Œ£))
              (@evar_countable (@variables Œ£)))
           x) Œì (@patt_imp Œ£ phi1 phi2) pf)
     true)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@<span class="nb">evar</span> (@variables Œ£))
     (@EVarSet Œ£)
     (@gset_elem_of (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))) x0
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))
        x))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£))
        (@EVarSet Œ£)
        (@gset_singleton 
           (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_ex_gen
     (@singleton (@<span class="nb">evar</span> (@variables Œ£)) (@EVarSet Œ£)
        (@gset_singleton (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))) x) Œì
     (@patt_imp Œ£ phi1 phi2) pf) true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">uses_svar_subst</span> (<span class="nv">S</span> : SVarSet) <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : Œì ‚ä¢r œï) :=
    <span class="kr">match</span> pf <span class="kr">with</span>
    | hypothesis _ _ _ _ =&gt; false
    | P1 _ _ _ _ _ =&gt; false
    | P2 _ _ _ _ _ _ _ =&gt; false
    | P3 _ _ _ =&gt; false
    | Modus_ponens _ _ _ m0 m1
      =&gt; uses_svar_subst S _ _ m0
         || uses_svar_subst S _ _ m1
    | Ex_quan _ _ _ _ =&gt; false
    | Ex_gen _ _ _ _ _ _ pf&#39; _ =&gt; uses_svar_subst S _ _ pf&#39;
    | Prop_bott_left _ _ _ =&gt; false
    | Prop_bott_right _ _ _ =&gt; false
    | Prop_disj_left _ _ _ _ _ _ _ =&gt; false
    | Prop_disj_right _ _ _ _ _ _ _ =&gt; false
    | Prop_ex_left _ _ _ _ _ =&gt; false
    | Prop_ex_right _ _ _ _ _ =&gt; false
    | Framing_left _ _ _ _ _ m0 =&gt; uses_svar_subst S _ _ m0
    | Framing_right _ _ _ _ _ m0 =&gt; uses_svar_subst S _ _ m0
    | Svar_subst _ _ _ X _ _ m0 =&gt; <span class="kr">if</span> decide (X ‚àà S) <span class="kr">is</span> <span class="nb">left</span> _ <span class="kr">then</span> true <span class="kr">else</span> uses_svar_subst S _ _ m0
    | Pre_fixp _ _ _ =&gt; false
    | Knaster_tarski _ _ phi psi m0 =&gt; uses_svar_subst S _ _ m0
    | Existence _ =&gt; false
    | Singleton_ctx _ _ _ _ _ _ =&gt; false
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">uses_of_svar_subst</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : Œì ‚ä¢r œï) : SVarSet :=
      <span class="kr">match</span> pf <span class="kr">with</span>
      | hypothesis _ _ _ _ =&gt; ‚àÖ
      | P1 _ _ _ _ _ =&gt; ‚àÖ
      | P2 _ _ _ _ _ _ _ =&gt; ‚àÖ
      | P3 _ _ _ =&gt; ‚àÖ
      | Modus_ponens _ _ _ m0 m1
        =&gt; uses_of_svar_subst _ _ m0
           ‚à™ uses_of_svar_subst _ _ m1
      | Ex_quan _ _ _ _ =&gt; ‚àÖ
      | Ex_gen _ _ _ _ _ _ pf&#39; _ =&gt; uses_of_svar_subst _ _ pf&#39;
      | Prop_bott_left _ _ _ =&gt; ‚àÖ
      | Prop_bott_right _ _ _ =&gt; ‚àÖ
      | Prop_disj_left _ _ _ _ _ _ _ =&gt; ‚àÖ
      | Prop_disj_right _ _ _ _ _ _ _ =&gt; ‚àÖ
      | Prop_ex_left _ _ _ _ _ =&gt; ‚àÖ
      | Prop_ex_right _ _ _ _ _ =&gt; ‚àÖ
      | Framing_left _ _ _ _ _ m0 =&gt; uses_of_svar_subst _ _ m0
      | Framing_right _ _ _ _ _ m0 =&gt; uses_of_svar_subst _ _ m0
      | Svar_subst _ _ _ X _ _ m0 =&gt; {[X]} ‚à™ uses_of_svar_subst _ _ m0
      | Pre_fixp _ _ _ =&gt; ‚àÖ
      | Knaster_tarski _ _ phi psi m0 =&gt; uses_of_svar_subst _ _ m0
      | Existence _ =&gt; ‚àÖ
      | Singleton_ctx _ _ _ _ _ _ =&gt; ‚àÖ
      <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk2f"><span class="kn">Lemma</span> <span class="nf">uses_of_svar_subst_correct</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : ML_proof_system Œì œï) (<span class="nv">X</span> : svar) :
    X ‚àà uses_of_svar_subst Œì œï pf &lt;-&gt; uses_svar_subst {[X]} Œì œï pf = true.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì œï pf))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì œï
        pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk30"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì œï pf))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì œï
        pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk31"><span class="nb">induction</span> pf; <span class="nb">simpl</span>; <span class="kp">try</span> set_solver.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì phi1 pf1))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì phi1 pf1) true)</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì
        (@patt_imp Œ£ phi1 phi2) pf2))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì (@patt_imp Œ£ phi1 phi2) pf2)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@union (@SVarSet Œ£)
        (@gset_union (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        (uses_of_svar_subst Œì phi1 pf1)
        (uses_of_svar_subst Œì (@patt_imp Œ£ phi1 phi2)
           pf2)))
  (@eq bool
     (orb
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi1 pf1)
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì (@patt_imp Œ£ phi1 phi2) pf2)) true)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk32" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì phi pf))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì phi pf) true)</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk32"><hr></label><div class="goal-conclusion">iff
  (@elem_of (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@union (@SVarSet Œ£)
        (@gset_union (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton 
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0)
        (uses_of_svar_subst Œì phi pf)))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@svar (@variables Œ£)) 
            (@SVarSet Œ£)
            (@gset_elem_of 
               (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton 
                  (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
         (@decide_rel (@svar (@variables Œ£))
            (@SVarSet Œ£)
            (@elem_of (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_elem_of 
                  (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))))
            (@gset_elem_of_dec 
               (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton 
                  (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton 
                 (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf
     <span class="kr">end</span> true)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk33">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì phi1 pf1))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì phi1 pf1) true)</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì
        (@patt_imp Œ£ phi1 phi2) pf2))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì (@patt_imp Œ£ phi1 phi2) pf2)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@union (@SVarSet Œ£)
        (@gset_union (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        (uses_of_svar_subst Œì phi1 pf1)
        (uses_of_svar_subst Œì (@patt_imp Œ£ phi1 phi2)
           pf2)))
  (@eq bool
     (orb
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi1 pf1)
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì (@patt_imp Œ£ phi1 phi2) pf2)) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk34"><span class="nb">rewrite</span> orb_true_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì phi1 pf1))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì phi1 pf1) true)</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì
        (@patt_imp Œ£ phi1 phi2) pf2))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì (@patt_imp Œ£ phi1 phi2) pf2)
     true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@union (@SVarSet Œ£)
        (@gset_union (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        (uses_of_svar_subst Œì phi1 pf1)
        (uses_of_svar_subst Œì (@patt_imp Œ£ phi1 phi2)
           pf2)))
  (or
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi1 pf1) true)
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì (@patt_imp Œ£ phi1 phi2) pf2) true))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">set_solver.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk35">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì phi pf))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì phi pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@union (@SVarSet Œ£)
        (@gset_union (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0)
        (uses_of_svar_subst Œì phi pf)))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
            (@gset_elem_of (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
         (@decide_rel (@svar (@variables Œ£))
            (@SVarSet Œ£)
            (@elem_of (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_elem_of (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))))
            (@gset_elem_of_dec (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf
     <span class="kr">end</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk36">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì phi pf))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì phi pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@union (@SVarSet Œ£)
        (@gset_union (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0)
        (uses_of_svar_subst Œì phi pf)))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
            (@gset_elem_of (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
         (@decide_rel (@svar (@variables Œ£))
            (@SVarSet Œ£)
            (@elem_of (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_elem_of (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))))
            (@gset_elem_of_dec (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf
     <span class="kr">end</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk37"><span class="nb">rewrite</span> elem_of_union.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì phi pf))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì phi pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0))
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (uses_of_svar_subst Œì phi pf)))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
            (@gset_elem_of (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
         (@decide_rel (@svar (@variables Œ£))
            (@SVarSet Œ£)
            (@elem_of (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_elem_of (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))))
            (@gset_elem_of_dec (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf
     <span class="kr">end</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk38"><span class="nb">rewrite</span> IHpf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>IHpf</var><span class="hyp-type"><b>: </b><span>iff
  (@elem_of (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (uses_of_svar_subst Œì phi pf))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£)))
           X) Œì phi pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0))
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf) true))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
            (@gset_elem_of (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
         (@decide_rel (@svar (@variables Œ£))
            (@SVarSet Œ£)
            (@elem_of (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_elem_of (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))))
            (@gset_elem_of_dec (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf
     <span class="kr">end</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk39"><span class="nb">clear</span> IHpf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0))
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf) true))
  (@eq bool
     <span class="kr">match</span>
       @decide
         (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
            (@gset_elem_of (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
         (@decide_rel (@svar (@variables Œ£))
            (@SVarSet Œ£)
            (@elem_of (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_elem_of (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))))
            (@gset_elem_of_dec (@svar (@variables Œ£))
               (@svar_eqdec (@variables Œ£))
               (@svar_countable (@variables Œ£))) X0
            (@singleton (@svar (@variables Œ£))
               (@SVarSet Œ£)
               (@gset_singleton (@svar (@variables Œ£))
                  (@svar_eqdec (@variables Œ£))
                  (@svar_countable (@variables Œ£))) X))
       <span class="kr">return</span> bool
     <span class="kr">with</span>
     | <span class="nb">left</span> _ =&gt; true
     | <span class="nb">right</span> _ =&gt;
         uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf
     <span class="kr">end</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk3a"><span class="nb">destruct</span> (decide (X0 ‚àà {[X]})) <span class="kr">as</span> [Hin|Hnotin].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
(@gset_elem_of (@svar (@variables Œ£)) (@svar_eqdec (@variables Œ£))
(@svar_countable (@variables Œ£))) X0
(@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
(@gset_singleton (@svar (@variables Œ£)) (@svar_eqdec (@variables Œ£))
(@svar_countable (@variables Œ£))) X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0))
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf) true)) (@eq bool true true)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk3b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk3b"><hr></label><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0))
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf) true))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì
        phi pf) true)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk3c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
(@gset_elem_of (@svar (@variables Œ£)) (@svar_eqdec (@variables Œ£))
(@svar_countable (@variables Œ£))) X0
(@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
(@gset_singleton (@svar (@variables Œ£)) (@svar_eqdec (@variables Œ£))
(@svar_countable (@variables Œ£))) X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0))
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf) true)) (@eq bool true true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk3d"><span class="nb">rewrite</span> elem_of_singleton <span class="kr">in</span> Hin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>@eq (@svar (@variables Œ£)) X0 X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0))
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf) true)) (@eq bool true true)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk3e"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X))
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf) true)) (@eq bool true true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk3f"><span class="nb">split</span>; <span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>or
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X)
        Œì phi pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool true true</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk40" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool true true</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk40"><hr></label><div class="goal-conclusion">or
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì
        phi pf) true)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk41"><span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool true true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">or
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì
        phi pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk42"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool true true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
  (@gset_elem_of (@svar (@variables Œ£))
     (@svar_eqdec (@variables Œ£))
     (@svar_countable (@variables Œ£))) X
  (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_singleton (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk43"><span class="nb">rewrite</span> elem_of_singleton.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool true true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@svar (@variables Œ£)) X X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk44">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0))
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf) true))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì
        phi pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk45">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iff
  (or
     (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_elem_of (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X0))
     (@eq bool
        (uses_svar_subst
           (@singleton (@svar (@variables Œ£))
              (@SVarSet Œ£)
              (@gset_singleton (@svar (@variables Œ£))
                 (@svar_eqdec (@variables Œ£))
                 (@svar_countable (@variables Œ£))) X)
           Œì phi pf) true))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì
        phi pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk46"><span class="nb">split</span>; <span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>or
  (@elem_of (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X0))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton 
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X)
        Œì phi pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì phi
     pf) true</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk47" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì
     phi pf) true</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk47"><hr></label><div class="goal-conclusion">or
  (@elem_of (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@singleton (@svar (@variables Œ£)) 
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X0))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton 
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì
        phi pf) true)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk48">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>or
  (@elem_of (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X0))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton 
              (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X)
        Œì phi pf) true)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì phi
     pf) true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk49"><span class="nb">destruct</span> H <span class="kr">as</span> [H|H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@elem_of (@svar (@variables Œ£)) 
  (@SVarSet Œ£)
  (@gset_elem_of (@svar (@variables Œ£))
     (@svar_eqdec (@variables Œ£))
     (@svar_countable (@variables Œ£))) X
  (@singleton (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_singleton (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì phi
     pf) true</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chk4a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì
     phi pf) true</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chk4a"><hr></label><div class="goal-conclusion">@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£)) 
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì phi
     pf) true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk4b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@elem_of (@svar (@variables Œ£)) 
  (@SVarSet Œ£)
  (@gset_elem_of (@svar (@variables Œ£))
     (@svar_eqdec (@variables Œ£))
     (@svar_countable (@variables Œ£))) X
  (@singleton (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_singleton (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì phi
     pf) true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk4c"><span class="nb">exfalso</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@elem_of (@svar (@variables Œ£)) 
  (@SVarSet Œ£)
  (@gset_elem_of (@svar (@variables Œ£))
     (@svar_eqdec (@variables Œ£))
     (@svar_countable (@variables Œ£))) X
  (@singleton (@svar (@variables Œ£)) 
     (@SVarSet Œ£)
     (@gset_singleton (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">set_solver.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk4d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì
     phi pf) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì phi
     pf) true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk4e">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì
     phi pf) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">or
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X0))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì
        phi pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk4f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì
     phi pf) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">or
  (@elem_of (@svar (@variables Œ£)) (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X0))
  (@eq bool
     (uses_svar_subst
        (@singleton (@svar (@variables Œ£))
           (@SVarSet Œ£)
           (@gset_singleton (@svar (@variables Œ£))
              (@svar_eqdec (@variables Œ£))
              (@svar_countable (@variables Œ£))) X) Œì
        phi pf) true)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk50"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ phi)</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>is_true (@well_formed Œ£ psi)</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>@svar (@variables Œ£)</span></span></span><br><span><var>Hnotin</var><span class="hyp-type"><b>: </b><span>not
  (@elem_of (@svar (@variables Œ£))
     (@SVarSet Œ£)
     (@gset_elem_of (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))) X0
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))
        X))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£))
        (@SVarSet Œ£)
        (@gset_singleton 
           (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì
     phi pf) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_svar_subst
     (@singleton (@svar (@variables Œ£)) (@SVarSet Œ£)
        (@gset_singleton (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))) X) Œì phi
     pf) true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">uses_kt</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : Œì ‚ä¢r œï) :=
    <span class="kr">match</span> pf <span class="kr">with</span>
    | hypothesis _ _ _ _ =&gt; false
    | P1 _ _ _ _ _ =&gt; false
    | P2 _ _ _ _ _ _ _ =&gt; false
    | P3 _ _ _ =&gt; false
    | Modus_ponens _ _ _ m0 m1
      =&gt; uses_kt _ _ m0 || uses_kt _ _ m1
    | Ex_quan _ _ _ _ =&gt; false
    | Ex_gen _ _ _ _ _ _ pf&#39; _ =&gt; uses_kt _ _ pf&#39;
    | Prop_bott_left _ _ _ =&gt; false
    | Prop_bott_right _ _ _ =&gt; false
    | Prop_disj_left _ _ _ _ _ _ _ =&gt; false
    | Prop_disj_right _ _ _ _ _ _ _ =&gt; false
    | Prop_ex_left _ _ _ _ _ =&gt; false
    | Prop_ex_right _ _ _ _ _ =&gt; false
    | Framing_left _ _ _ _ _ m0 =&gt; uses_kt _ _ m0
    | Framing_right _ _ _ _ _ m0 =&gt; uses_kt _ _ m0
    | Svar_subst _ _ _ X _ _ m0 =&gt; uses_kt _ _ m0
    | Pre_fixp _ _ _ =&gt; false
    | Knaster_tarski _ _ phi psi m0 =&gt; true
    | Existence _ =&gt; false
    | Singleton_ctx _ _ _ _ _ _ =&gt; false
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">propositional_only</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : Œì ‚ä¢r œï) :=
      <span class="kr">match</span> pf <span class="kr">with</span>
      | hypothesis _ _ _ _ =&gt; true
      | P1 _ _ _ _ _ =&gt; true
      | P2 _ _ _ _ _ _ _ =&gt; true
      | P3 _ _ _ =&gt; true
      | Modus_ponens _ _ _ m0 m1
        =&gt; propositional_only _ _ m0 &amp;&amp; propositional_only _ _ m1
      | Ex_quan _ _ _ _ =&gt; false
      | Ex_gen _ _ _ _ _ _ pf&#39; _ =&gt; false
      | Prop_bott_left _ _ _ =&gt; false
      | Prop_bott_right _ _ _ =&gt; false
      | Prop_disj_left _ _ _ _ _ _ _ =&gt; false
      | Prop_disj_right _ _ _ _ _ _ _ =&gt; false
      | Prop_ex_left _ _ _ _ _ =&gt; false
      | Prop_ex_right _ _ _ _ _ =&gt; false
      | Framing_left _ _ _ _ _ m0 =&gt; false
      | Framing_right _ _ _ _ _ m0 =&gt; false
      | Svar_subst _ _ _ X _ _ m0 =&gt; false
      | Pre_fixp _ _ _ =&gt; false
      | Knaster_tarski _ _ phi psi m0 =&gt; false
      | Existence _ =&gt; false
      | Singleton_ctx _ _ _ _ _ _ =&gt; false
      <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk51"><span class="kn">Lemma</span> <span class="nf">propositional_implies_no_frame</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : Œì ‚ä¢r œï) :
    propositional_only Œì œï pf = true -&gt; framing_patterns Œì œï pf = ‚àÖ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì œï pf)
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk52"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì œï pf)
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk53"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì œï pf) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì œï pf)
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk54"><span class="nb">induction</span> pf; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="kp">try</span> <span class="nb">apply</span> <span class="bp">reflexivity</span>; <span class="kp">try</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì phi1 pf1)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (@union
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_union (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (framing_patterns Œì phi1 pf1)
     (framing_patterns Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk55">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì phi1 pf1)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (@union
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_union (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (framing_patterns Œì phi1 pf1)
     (framing_patterns Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk56">destruct_and!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì phi1 pf1)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (@union
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_union (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (framing_patterns Œì phi1 pf1)
     (framing_patterns Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk57"><span class="nb">specialize</span> (IHpf1 <span class="kp">ltac</span>:(<span class="bp">assumption</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì phi1 pf1)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (@union
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_union (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (framing_patterns Œì phi1 pf1)
     (framing_patterns Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk58"><span class="nb">specialize</span> (IHpf2 <span class="kp">ltac</span>:(<span class="bp">assumption</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì phi1 pf1)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span>@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (@union
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_union (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (framing_patterns Œì phi1 pf1)
     (framing_patterns Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk59"><span class="nb">rewrite</span> IHpf1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì phi1 pf1)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span>@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (@union
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_union (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@empty
        (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
           (@wfPattern_countable Œ£))
        (@gset_empty (@wfPattern Œ£)
           (@wfPattern_eqdec Œ£)
           (@wfPattern_countable Œ£)))
     (framing_patterns Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk5a"><span class="nb">rewrite</span> IHpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span>@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì phi1 pf1)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span>@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty
     (@gset (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£)
        (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (@union
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_union (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@empty
        (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
           (@wfPattern_countable Œ£))
        (@gset_empty (@wfPattern Œ£)
           (@wfPattern_eqdec Œ£)
           (@wfPattern_countable Œ£)))
     (@empty
        (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
           (@wfPattern_countable Œ£))
        (@gset_empty (@wfPattern Œ£)
           (@wfPattern_eqdec Œ£)
           (@wfPattern_countable Œ£))))
  (@empty
     (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£))
     (@gset_empty (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
        (@wfPattern_countable Œ£)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">set_solver.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk5b"><span class="kn">Lemma</span> <span class="nf">propositional_implies_noKT</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : Œì ‚ä¢r œï) :
    propositional_only Œì œï pf = true -&gt; uses_kt Œì œï pf = false.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq bool (uses_kt Œì œï pf) false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk5c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq bool (uses_kt Œì œï pf) false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk5d"><span class="nb">induction</span> pf; <span class="nb">simpl</span>; <span class="nb">intros</span> H; <span class="kp">try</span> <span class="bp">reflexivity</span>; <span class="kp">try</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_kt Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2)
  false</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_kt Œì phi1 pf1)
     (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2)) false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk5e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_kt Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2)
  false</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_kt Œì phi1 pf1)
     (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2)) false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk5f">destruct_and!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_kt Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2)
  false</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_kt Œì phi1 pf1)
     (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2)) false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk60"><span class="nb">rewrite</span> IHpf1;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_kt Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2)
  false</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb false (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2))
  false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk61"><span class="nb">rewrite</span> IHpf2;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_kt Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2)
  false</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool (orb false false) false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk62"><span class="kn">Lemma</span> <span class="nf">propositional_implies_no_uses_svar</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : ML_proof_system Œì œï) (<span class="nv">SvS</span> : SVarSet) :
    propositional_only Œì œï pf = true -&gt; uses_svar_subst SvS Œì œï pf = false.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq bool (uses_svar_subst SvS Œì œï pf) false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk63"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq bool (uses_svar_subst SvS Œì œï pf) false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk64"><span class="nb">induction</span> pf; <span class="nb">simpl</span>; <span class="nb">intros</span> H; <span class="kp">try</span> <span class="bp">reflexivity</span>; <span class="kp">try</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_svar_subst SvS Œì phi1 pf1)
  false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_svar_subst SvS Œì
     (@patt_imp Œ£ phi1 phi2) pf2) false</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_svar_subst SvS Œì phi1 pf1)
     (uses_svar_subst SvS Œì (@patt_imp Œ£ phi1 phi2)
        pf2)) false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk65">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_svar_subst SvS Œì phi1 pf1)
  false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_svar_subst SvS Œì
     (@patt_imp Œ£ phi1 phi2) pf2) false</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_svar_subst SvS Œì phi1 pf1)
     (uses_svar_subst SvS Œì (@patt_imp Œ£ phi1 phi2)
        pf2)) false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk66">destruct_and!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_svar_subst SvS Œì phi1 pf1)
  false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_svar_subst SvS Œì
     (@patt_imp Œ£ phi1 phi2) pf2) false</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_svar_subst SvS Œì phi1 pf1)
     (uses_svar_subst SvS Œì (@patt_imp Œ£ phi1 phi2)
        pf2)) false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk67"><span class="nb">rewrite</span> IHpf1;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_svar_subst SvS Œì phi1 pf1)
  false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_svar_subst SvS Œì
     (@patt_imp Œ£ phi1 phi2) pf2) false</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb false
     (uses_svar_subst SvS Œì (@patt_imp Œ£ phi1 phi2)
        pf2)) false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk68"><span class="nb">rewrite</span> IHpf2;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_svar_subst SvS Œì phi1 pf1)
  false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_svar_subst SvS Œì
     (@patt_imp Œ£ phi1 phi2) pf2) false</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool (orb false false) false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk69"><span class="kn">Lemma</span> <span class="nf">propositional_implies_no_uses_ex_gen</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : ML_proof_system Œì œï) (<span class="nv">EvS</span> : EVarSet) :
    propositional_only Œì œï pf = true -&gt; uses_ex_gen EvS Œì œï pf = false.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq bool (uses_ex_gen EvS Œì œï pf) false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk6a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq bool (uses_ex_gen EvS Œì œï pf) false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk6b"><span class="nb">induction</span> pf; <span class="nb">simpl</span>; <span class="nb">intros</span> H; <span class="kp">try</span> <span class="bp">reflexivity</span>; <span class="kp">try</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_ex_gen EvS Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2)
     pf2) false</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_ex_gen EvS Œì phi1 pf1)
     (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2) pf2))
  false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk6c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_ex_gen EvS Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2)
     pf2) false</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_ex_gen EvS Œì phi1 pf1)
     (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2) pf2))
  false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk6d">destruct_and!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_ex_gen EvS Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2)
     pf2) false</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_ex_gen EvS Œì phi1 pf1)
     (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2) pf2))
  false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk6e"><span class="nb">rewrite</span> IHpf1;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_ex_gen EvS Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2)
     pf2) false</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb false
     (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2) pf2))
  false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk6f"><span class="nb">rewrite</span> IHpf2;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq bool (uses_ex_gen EvS Œì phi1 pf1) false</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq bool
  (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2)
     pf2) false</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool (orb false false) false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk70"><span class="kn">Lemma</span> <span class="nf">propositional_implies_no_uses_ex_gen_2</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : ML_proof_system Œì œï) :
    propositional_only Œì œï pf = true -&gt; uses_of_ex_gen Œì œï pf = ‚àÖ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq (@EVarSet Œ£) (uses_of_ex_gen Œì œï pf)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk71"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq (@EVarSet Œ£) (uses_of_ex_gen Œì œï pf)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk72"><span class="nb">induction</span> pf; <span class="nb">simpl</span>; <span class="nb">intros</span> H; <span class="kp">try</span> <span class="bp">reflexivity</span>; <span class="kp">try</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@EVarSet Œ£) (uses_of_ex_gen Œì phi1 pf1)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@EVarSet Œ£)
  (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@EVarSet Œ£)
  (@union (@EVarSet Œ£)
     (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£)))
     (uses_of_ex_gen Œì phi1 pf1)
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk73">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@EVarSet Œ£) (uses_of_ex_gen Œì phi1 pf1)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@EVarSet Œ£)
  (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@EVarSet Œ£)
  (@union (@EVarSet Œ£)
     (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£)))
     (uses_of_ex_gen Œì phi1 pf1)
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk74">destruct_and!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@EVarSet Œ£) (uses_of_ex_gen Œì phi1 pf1)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@EVarSet Œ£)
  (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@EVarSet Œ£)
  (@union (@EVarSet Œ£)
     (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£)))
     (uses_of_ex_gen Œì phi1 pf1)
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk75"><span class="nb">rewrite</span> IHpf1;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@EVarSet Œ£) (uses_of_ex_gen Œì phi1 pf1)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@EVarSet Œ£)
  (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@EVarSet Œ£)
  (@union (@EVarSet Œ£)
     (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£)))
     (@empty (@EVarSet Œ£)
        (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))))
     (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk76"><span class="nb">rewrite</span> IHpf2;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@EVarSet Œ£) (uses_of_ex_gen Œì phi1 pf1)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@EVarSet Œ£)
  (uses_of_ex_gen Œì (@patt_imp Œ£ phi1 phi2)
     pf2)
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@EVarSet Œ£)
  (@union (@EVarSet Œ£)
     (@gset_union (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£)))
     (@empty (@EVarSet Œ£)
        (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£))))
     (@empty (@EVarSet Œ£)
        (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
           (@evar_eqdec (@variables Œ£))
           (@evar_countable (@variables Œ£)))))
  (@empty (@EVarSet Œ£)
     (@gset_empty (@<span class="nb">evar</span> (@variables Œ£))
        (@evar_eqdec (@variables Œ£))
        (@evar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">set_solver.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk77"><span class="kn">Lemma</span> <span class="nf">propositional_implies_no_uses_svar_2</span> <span class="nv">Œì</span> <span class="nv">œï</span> (<span class="nv">pf</span> : ML_proof_system Œì œï)  :
    propositional_only Œì œï pf = true -&gt; uses_of_svar_subst Œì œï pf = ‚àÖ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq (@SVarSet Œ£) (uses_of_svar_subst Œì œï pf)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk78"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @eq bool (propositional_only Œì œï pf) true,
@eq (@SVarSet Œ£) (uses_of_svar_subst Œì œï pf)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk79"><span class="nb">induction</span> pf; <span class="nb">simpl</span>; <span class="nb">intros</span> H; <span class="kp">try</span> <span class="bp">reflexivity</span>; <span class="kp">try</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì phi1 pf1)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì
     (@patt_imp Œ£ phi1 phi2) pf2)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@SVarSet Œ£)
  (@union (@SVarSet Œ£)
     (@gset_union (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£)))
     (uses_of_svar_subst Œì phi1 pf1)
     (uses_of_svar_subst Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk7a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì phi1 pf1)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì
     (@patt_imp Œ£ phi1 phi2) pf2)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>@eq bool
  (andb (propositional_only Œì phi1 pf1)
     (propositional_only Œì 
        (@patt_imp Œ£ phi1 phi2) pf2)) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@SVarSet Œ£)
  (@union (@SVarSet Œ£)
     (@gset_union (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£)))
     (uses_of_svar_subst Œì phi1 pf1)
     (uses_of_svar_subst Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk7b">destruct_and!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì phi1 pf1)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì
     (@patt_imp Œ£ phi1 phi2) pf2)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@SVarSet Œ£)
  (@union (@SVarSet Œ£)
     (@gset_union (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£)))
     (uses_of_svar_subst Œì phi1 pf1)
     (uses_of_svar_subst Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk7c"><span class="nb">rewrite</span> IHpf1;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì phi1 pf1)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì
     (@patt_imp Œ£ phi1 phi2) pf2)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@SVarSet Œ£)
  (@union (@SVarSet Œ£)
     (@gset_union (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£)))
     (@empty (@SVarSet Œ£)
        (@gset_empty (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))))
     (uses_of_svar_subst Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk7d"><span class="nb">rewrite</span> IHpf2;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br><span><var>IHpf1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool (propositional_only Œì phi1 pf1)
        true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì phi1 pf1)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>IHpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
  <span class="nv">_</span> : @eq bool
        (propositional_only Œì
           (@patt_imp Œ£ phi1 phi2) pf2) true,
@eq (@SVarSet Œ£)
  (uses_of_svar_subst Œì
     (@patt_imp Œ£ phi1 phi2) pf2)
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>@eq bool (propositional_only Œì phi1 pf1) true</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>@eq bool
  (propositional_only Œì (@patt_imp Œ£ phi1 phi2)
     pf2) true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@SVarSet Œ£)
  (@union (@SVarSet Œ£)
     (@gset_union (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£)))
     (@empty (@SVarSet Œ£)
        (@gset_empty (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£))))
     (@empty (@SVarSet Œ£)
        (@gset_empty (@svar (@variables Œ£))
           (@svar_eqdec (@variables Œ£))
           (@svar_countable (@variables Œ£)))))
  (@empty (@SVarSet Œ£)
     (@gset_empty (@svar (@variables Œ£))
        (@svar_eqdec (@variables Œ£))
        (@svar_countable (@variables Œ£))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">set_solver.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk7e"><span class="kn">Lemma</span> <span class="nf">framing_patterns_cast_proof</span> <span class="nv">Œì</span> <span class="nv">œï</span> <span class="nv">œà</span> (<span class="nv">pf</span> : Œì ‚ä¢r œï) (<span class="nv">e</span> : œà = œï) :
    @framing_patterns Œì œà (cast_proof e pf) = @framing_patterns Œì œï pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì œà (@cast_proof Œì œï œà e pf))
  (framing_patterns Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk7f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq
  (@gset (@wfPattern Œ£) (@wfPattern_eqdec Œ£)
     (@wfPattern_countable Œ£))
  (framing_patterns Œì œà (@cast_proof Œì œï œà e pf))
  (framing_patterns Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> pf; <span class="nb">unfold</span> cast_proof,eq_rec_r,eq_rec,eq_rect,eq_sym;<span class="nb">simpl</span> <span class="kr">in</span> *;
    <span class="nb">pose proof</span> (e&#39; := e); <span class="nb">move</span>: e; <span class="nb">rewrite</span> e&#39;; <span class="nb">clear</span> e&#39;; <span class="nb">intros</span> e;
    <span class="kr">match</span> <span class="kp">type of</span> e <span class="kr">with</span>
    | <span class="nl">?x</span> = <span class="nl">?x</span> =&gt; <span class="nb">replace</span> e <span class="kr">with</span> (@erefl _ x) <span class="bp">by</span> (<span class="nb">apply</span> UIP_dec; <span class="nb">intros</span> x&#39; y&#39;; <span class="nb">apply</span> Pattern_eqdec)
    <span class="kr">end</span>; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">proofbpred</span> := <span class="kr">forall</span> (<span class="nv">Œì</span> : Theory) (<span class="nv">œï</span> : Pattern),  Œì ‚ä¢r œï -&gt; bool.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">indifferent_to_cast</span> (<span class="nv">P</span> : proofbpred)
    := <span class="kr">forall</span> (<span class="nv">Œì</span> : Theory) (<span class="nv">œï</span> <span class="nv">œà</span> : Pattern) (<span class="nv">e</span>: œà = œï) (<span class="nv">pf</span> : Œì ‚ä¢r œï),
         P Œì œà (cast_proof e pf) = P Œì œï pf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk80"><span class="kn">Lemma</span> <span class="nf">indifferent_to_cast_uses_svar_subst</span> <span class="nv">SvS</span>:
    indifferent_to_cast (uses_svar_subst SvS).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_cast (uses_svar_subst SvS)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk81"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_cast (uses_svar_subst SvS)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk82"><span class="nb">unfold</span> indifferent_to_cast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> <span class="nv">œà</span> : @Pattern Œ£)
  (<span class="nv">e</span> : @eq (@Pattern Œ£) œà œï)
  (<span class="nv">pf</span> : ML_proof_system Œì œï),
@eq bool
  (uses_svar_subst SvS Œì œà (@cast_proof Œì œï œà e pf))
  (uses_svar_subst SvS Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk83"><span class="nb">intros</span> Œì œï œà e pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_svar_subst SvS Œì œà (@cast_proof Œì œï œà e pf))
  (uses_svar_subst SvS Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> pf; <span class="nb">unfold</span> cast_proof; <span class="nb">unfold</span> eq_rec_r;
     <span class="nb">unfold</span> eq_rec; <span class="nb">unfold</span> eq_rect; <span class="nb">unfold</span> eq_sym; <span class="nb">simpl</span>; <span class="nb">auto</span>;
     <span class="nb">pose proof</span> (e&#39; := e); <span class="nb">move</span>: e; <span class="nb">rewrite</span> e&#39;; <span class="nb">clear</span> e&#39;; <span class="nb">intros</span> e;
     <span class="kr">match</span> <span class="kp">type of</span> e <span class="kr">with</span>
     | <span class="nl">?x</span> = <span class="nl">?x</span> =&gt; <span class="nb">replace</span> e <span class="kr">with</span> (@erefl _ x) <span class="bp">by</span> (<span class="nb">apply</span> UIP_dec; <span class="nb">intros</span> x&#39; y&#39;; <span class="nb">apply</span> Pattern_eqdec)
     <span class="kr">end</span>; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk84"><span class="kn">Lemma</span> <span class="nf">indifferent_to_cast_uses_kt</span>:
    indifferent_to_cast uses_kt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_cast uses_kt</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk85"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_cast uses_kt</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk86"><span class="nb">unfold</span> indifferent_to_cast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> <span class="nv">œà</span> : @Pattern Œ£)
  (<span class="nv">e</span> : @eq (@Pattern Œ£) œà œï)
  (<span class="nv">pf</span> : ML_proof_system Œì œï),
@eq bool (uses_kt Œì œà (@cast_proof Œì œï œà e pf))
  (uses_kt Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk87"><span class="nb">intros</span> Œì œï œà e pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool (uses_kt Œì œà (@cast_proof Œì œï œà e pf))
  (uses_kt Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> pf; <span class="nb">unfold</span> cast_proof; <span class="nb">unfold</span> eq_rec_r;
     <span class="nb">unfold</span> eq_rec; <span class="nb">unfold</span> eq_rect; <span class="nb">unfold</span> eq_sym; <span class="nb">simpl</span>; <span class="nb">auto</span>;
     <span class="nb">pose proof</span> (e&#39; := e); <span class="nb">move</span>: e; <span class="nb">rewrite</span> e&#39;; <span class="nb">clear</span> e&#39;; <span class="nb">intros</span> e;
     <span class="kr">match</span> <span class="kp">type of</span> e <span class="kr">with</span>
     | <span class="nl">?x</span> = <span class="nl">?x</span> =&gt; <span class="nb">replace</span> e <span class="kr">with</span> (@erefl _ x) <span class="bp">by</span> (<span class="nb">apply</span> UIP_dec; <span class="nb">intros</span> x&#39; y&#39;; <span class="nb">apply</span> Pattern_eqdec)
     <span class="kr">end</span>; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk88"><span class="kn">Lemma</span> <span class="nf">indifferent_to_cast_uses_ex_gen</span> <span class="nv">EvS</span>:
    indifferent_to_cast (uses_ex_gen EvS).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_cast (uses_ex_gen EvS)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk89"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_cast (uses_ex_gen EvS)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk8a"><span class="nb">unfold</span> indifferent_to_cast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> <span class="nv">œà</span> : @Pattern Œ£)
  (<span class="nv">e</span> : @eq (@Pattern Œ£) œà œï)
  (<span class="nv">pf</span> : ML_proof_system Œì œï),
@eq bool
  (uses_ex_gen EvS Œì œà (@cast_proof Œì œï œà e pf))
  (uses_ex_gen EvS Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk8b"><span class="nb">intros</span> Œì œï œà e pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_ex_gen EvS Œì œà (@cast_proof Œì œï œà e pf))
  (uses_ex_gen EvS Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> pf; <span class="nb">unfold</span> cast_proof; <span class="nb">unfold</span> eq_rec_r;
     <span class="nb">unfold</span> eq_rec; <span class="nb">unfold</span> eq_rect; <span class="nb">unfold</span> eq_sym; <span class="nb">simpl</span>; <span class="nb">auto</span>;
     <span class="nb">pose proof</span> (e&#39; := e); <span class="nb">move</span>: e; <span class="nb">rewrite</span> e&#39;; <span class="nb">clear</span> e&#39;; <span class="nb">intros</span> e;
     <span class="kr">match</span> <span class="kp">type of</span> e <span class="kr">with</span>
     | <span class="nl">?x</span> = <span class="nl">?x</span> =&gt; <span class="nb">replace</span> e <span class="kr">with</span> (@erefl _ x) <span class="bp">by</span> (<span class="nb">apply</span> UIP_dec; <span class="nb">intros</span> x&#39; y&#39;; <span class="nb">apply</span> Pattern_eqdec)
     <span class="kr">end</span>; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk8c"><span class="kn">Lemma</span> <span class="nf">indifferent_to_cast_propositional_only</span> :
    indifferent_to_cast propositional_only.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_cast propositional_only</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk8d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_cast propositional_only</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk8e"><span class="nb">unfold</span> indifferent_to_cast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> <span class="nv">œà</span> : @Pattern Œ£)
  (<span class="nv">e</span> : @eq (@Pattern Œ£) œà œï)
  (<span class="nv">pf</span> : ML_proof_system Œì œï),
@eq bool
  (propositional_only Œì œà (@cast_proof Œì œï œà e pf))
  (propositional_only Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk8f"><span class="nb">intros</span> Œì œï œà e pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (propositional_only Œì œà (@cast_proof Œì œï œà e pf))
  (propositional_only Œì œï pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> pf; <span class="nb">unfold</span> cast_proof; <span class="nb">unfold</span> eq_rec_r;
      <span class="nb">unfold</span> eq_rec; <span class="nb">unfold</span> eq_rect; <span class="nb">unfold</span> eq_sym; <span class="nb">simpl</span>; <span class="nb">auto</span>;
      <span class="nb">pose proof</span> (e&#39; := e); <span class="nb">move</span>: e; <span class="nb">rewrite</span> e&#39;; <span class="nb">clear</span> e&#39;; <span class="nb">intros</span> e;
      <span class="kr">match</span> <span class="kp">type of</span> e <span class="kr">with</span>
      | <span class="nl">?x</span> = <span class="nl">?x</span> =&gt; <span class="nb">replace</span> e <span class="kr">with</span> (@erefl _ x) <span class="bp">by</span> (<span class="nb">apply</span> UIP_dec; <span class="nb">intros</span> x&#39; y&#39;; <span class="nb">apply</span> Pattern_eqdec)
      <span class="kr">end</span>; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">indifferent_to_prop</span> (<span class="nv">P</span> : proofbpred) :=
      (<span class="kr">forall</span> <span class="nv">Œì</span> <span class="nv">phi</span> <span class="nv">psi</span> <span class="nv">wfphi</span> <span class="nv">wfpsi</span>, P Œì _ (P1 Œì phi psi wfphi wfpsi) = false)
   /\ (<span class="kr">forall</span> <span class="nv">Œì</span> <span class="nv">phi</span> <span class="nv">psi</span> <span class="nv">xi</span> <span class="nv">wfphi</span> <span class="nv">wfpsi</span> <span class="nv">wfxi</span>, P Œì _ (P2 Œì phi psi xi wfphi wfpsi wfxi) = false)
   /\ (<span class="kr">forall</span> <span class="nv">Œì</span> <span class="nv">phi</span> <span class="nv">wfphi</span>, P Œì _ (P3 Œì phi wfphi) = false)
   /\ (<span class="kr">forall</span> <span class="nv">Œì</span> <span class="nv">phi1</span> <span class="nv">phi2</span> <span class="nv">pf1</span> <span class="nv">pf2</span>,
        P Œì _ (Modus_ponens Œì phi1 phi2 pf1 pf2)
        = P Œì _ pf1 || P Œì _ pf2
      ).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk90"><span class="kn">Lemma</span> <span class="nf">indifferent_to_prop_uses_svar_subst</span> <span class="nv">SvS</span>:
    indifferent_to_prop (uses_svar_subst SvS).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_prop (uses_svar_subst SvS)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk91"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_prop (uses_svar_subst SvS)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk92"><span class="nb">split</span>;[<span class="nb">auto</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">and</span>
  (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi</span> <span class="nv">psi</span> <span class="nv">xi</span> : @Pattern Œ£)
     (<span class="nv">wfphi</span> : is_true (@well_formed Œ£ phi))
     (<span class="nv">wfpsi</span> : is_true (@well_formed Œ£ psi))
     (<span class="nv">wfxi</span> : is_true (@well_formed Œ£ xi)),
   @eq bool
     (uses_svar_subst SvS Œì
        (@patt_imp Œ£
           (@patt_imp Œ£ phi (@patt_imp Œ£ psi xi))
           (@patt_imp Œ£ (@patt_imp Œ£ phi psi)
              (@patt_imp Œ£ phi xi)))
        (P2 Œì phi psi xi wfphi wfpsi wfxi)) false)
  (<span class="kn">and</span>
     (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi</span> : @Pattern Œ£)
        (<span class="nv">wfphi</span> : is_true (@well_formed Œ£ phi)),
      @eq bool
        (uses_svar_subst SvS Œì
           (@patt_imp Œ£
              (@patt_imp Œ£
                 (@patt_imp Œ£ phi (@patt_bott Œ£))
                 (@patt_bott Œ£)) phi) (P3 Œì phi wfphi))
        false)
     (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi1</span> <span class="nv">phi2</span> : @Pattern Œ£)
        (<span class="nv">pf1</span> : ML_proof_system Œì phi1)
        (<span class="nv">pf2</span> : ML_proof_system Œì
                 (@patt_imp Œ£ phi1 phi2)),
      @eq bool
        (uses_svar_subst SvS Œì phi2
           (Modus_ponens Œì phi1 phi2 pf1 pf2))
        (orb (uses_svar_subst SvS Œì phi1 pf1)
           (uses_svar_subst SvS Œì
              (@patt_imp Œ£ phi1 phi2) pf2))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk93"><span class="nb">split</span>;[<span class="nb">auto</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">and</span>
  (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi</span> : @Pattern Œ£)
     (<span class="nv">wfphi</span> : is_true (@well_formed Œ£ phi)),
   @eq bool
     (uses_svar_subst SvS Œì
        (@patt_imp Œ£
           (@patt_imp Œ£
              (@patt_imp Œ£ phi (@patt_bott Œ£))
              (@patt_bott Œ£)) phi) (P3 Œì phi wfphi))
     false)
  (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi1</span> <span class="nv">phi2</span> : @Pattern Œ£)
     (<span class="nv">pf1</span> : ML_proof_system Œì phi1)
     (<span class="nv">pf2</span> : ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)),
   @eq bool
     (uses_svar_subst SvS Œì phi2
        (Modus_ponens Œì phi1 phi2 pf1 pf2))
     (orb (uses_svar_subst SvS Œì phi1 pf1)
        (uses_svar_subst SvS Œì (@patt_imp Œ£ phi1 phi2)
           pf2)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk94"><span class="nb">split</span>;[<span class="nb">auto</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi1</span> <span class="nv">phi2</span> : @Pattern Œ£)
  (<span class="nv">pf1</span> : ML_proof_system Œì phi1)
  (<span class="nv">pf2</span> : ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)),
@eq bool
  (uses_svar_subst SvS Œì phi2
     (Modus_ponens Œì phi1 phi2 pf1 pf2))
  (orb (uses_svar_subst SvS Œì phi1 pf1)
     (uses_svar_subst SvS Œì (@patt_imp Œ£ phi1 phi2)
        pf2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk95"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_svar_subst SvS Œì phi2
     (Modus_ponens Œì phi1 phi2 pf1 pf2))
  (orb (uses_svar_subst SvS Œì phi1 pf1)
     (uses_svar_subst SvS Œì (@patt_imp Œ£ phi1 phi2)
        pf2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk96"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>SvS</var><span class="hyp-type"><b>: </b><span>@SVarSet Œ£</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_svar_subst SvS Œì phi1 pf1)
     (uses_svar_subst SvS Œì (@patt_imp Œ£ phi1 phi2)
        pf2))
  (orb (uses_svar_subst SvS Œì phi1 pf1)
     (uses_svar_subst SvS Œì (@patt_imp Œ£ phi1 phi2)
        pf2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk97"><span class="kn">Lemma</span> <span class="nf">indifferent_to_prop_uses_kt</span>:
    indifferent_to_prop uses_kt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_prop uses_kt</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk98"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_prop uses_kt</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk99"><span class="nb">split</span>;[<span class="nb">auto</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">and</span>
  (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi</span> <span class="nv">psi</span> <span class="nv">xi</span> : @Pattern Œ£)
     (<span class="nv">wfphi</span> : is_true (@well_formed Œ£ phi))
     (<span class="nv">wfpsi</span> : is_true (@well_formed Œ£ psi))
     (<span class="nv">wfxi</span> : is_true (@well_formed Œ£ xi)),
   @eq bool
     (uses_kt Œì
        (@patt_imp Œ£
           (@patt_imp Œ£ phi (@patt_imp Œ£ psi xi))
           (@patt_imp Œ£ (@patt_imp Œ£ phi psi)
              (@patt_imp Œ£ phi xi)))
        (P2 Œì phi psi xi wfphi wfpsi wfxi)) false)
  (<span class="kn">and</span>
     (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi</span> : @Pattern Œ£)
        (<span class="nv">wfphi</span> : is_true (@well_formed Œ£ phi)),
      @eq bool
        (uses_kt Œì
           (@patt_imp Œ£
              (@patt_imp Œ£
                 (@patt_imp Œ£ phi (@patt_bott Œ£))
                 (@patt_bott Œ£)) phi) (P3 Œì phi wfphi))
        false)
     (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi1</span> <span class="nv">phi2</span> : @Pattern Œ£)
        (<span class="nv">pf1</span> : ML_proof_system Œì phi1)
        (<span class="nv">pf2</span> : ML_proof_system Œì
                 (@patt_imp Œ£ phi1 phi2)),
      @eq bool
        (uses_kt Œì phi2
           (Modus_ponens Œì phi1 phi2 pf1 pf2))
        (orb (uses_kt Œì phi1 pf1)
           (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk9a"><span class="nb">split</span>;[<span class="nb">auto</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">and</span>
  (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi</span> : @Pattern Œ£)
     (<span class="nv">wfphi</span> : is_true (@well_formed Œ£ phi)),
   @eq bool
     (uses_kt Œì
        (@patt_imp Œ£
           (@patt_imp Œ£
              (@patt_imp Œ£ phi (@patt_bott Œ£))
              (@patt_bott Œ£)) phi) (P3 Œì phi wfphi))
     false)
  (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi1</span> <span class="nv">phi2</span> : @Pattern Œ£)
     (<span class="nv">pf1</span> : ML_proof_system Œì phi1)
     (<span class="nv">pf2</span> : ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)),
   @eq bool
     (uses_kt Œì phi2
        (Modus_ponens Œì phi1 phi2 pf1 pf2))
     (orb (uses_kt Œì phi1 pf1)
        (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk9b"><span class="nb">split</span>;[<span class="nb">auto</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi1</span> <span class="nv">phi2</span> : @Pattern Œ£)
  (<span class="nv">pf1</span> : ML_proof_system Œì phi1)
  (<span class="nv">pf2</span> : ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)),
@eq bool
  (uses_kt Œì phi2 (Modus_ponens Œì phi1 phi2 pf1 pf2))
  (orb (uses_kt Œì phi1 pf1)
     (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk9c"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_kt Œì phi2 (Modus_ponens Œì phi1 phi2 pf1 pf2))
  (orb (uses_kt Œì phi1 pf1)
     (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk9d"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_kt Œì phi1 pf1)
     (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (orb (uses_kt Œì phi1 pf1)
     (uses_kt Œì (@patt_imp Œ£ phi1 phi2) pf2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk9e"><span class="kn">Lemma</span> <span class="nf">indifferent_to_prop_uses_ex_gen</span> <span class="nv">EvS</span>:
    indifferent_to_prop (uses_ex_gen EvS).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_prop (uses_ex_gen EvS)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chk9f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">indifferent_to_prop (uses_ex_gen EvS)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka0"><span class="nb">split</span>;[<span class="nb">auto</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">and</span>
  (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi</span> <span class="nv">psi</span> <span class="nv">xi</span> : @Pattern Œ£)
     (<span class="nv">wfphi</span> : is_true (@well_formed Œ£ phi))
     (<span class="nv">wfpsi</span> : is_true (@well_formed Œ£ psi))
     (<span class="nv">wfxi</span> : is_true (@well_formed Œ£ xi)),
   @eq bool
     (uses_ex_gen EvS Œì
        (@patt_imp Œ£
           (@patt_imp Œ£ phi (@patt_imp Œ£ psi xi))
           (@patt_imp Œ£ (@patt_imp Œ£ phi psi)
              (@patt_imp Œ£ phi xi)))
        (P2 Œì phi psi xi wfphi wfpsi wfxi)) false)
  (<span class="kn">and</span>
     (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi</span> : @Pattern Œ£)
        (<span class="nv">wfphi</span> : is_true (@well_formed Œ£ phi)),
      @eq bool
        (uses_ex_gen EvS Œì
           (@patt_imp Œ£
              (@patt_imp Œ£
                 (@patt_imp Œ£ phi (@patt_bott Œ£))
                 (@patt_bott Œ£)) phi) (P3 Œì phi wfphi))
        false)
     (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi1</span> <span class="nv">phi2</span> : @Pattern Œ£)
        (<span class="nv">pf1</span> : ML_proof_system Œì phi1)
        (<span class="nv">pf2</span> : ML_proof_system Œì
                 (@patt_imp Œ£ phi1 phi2)),
      @eq bool
        (uses_ex_gen EvS Œì phi2
           (Modus_ponens Œì phi1 phi2 pf1 pf2))
        (orb (uses_ex_gen EvS Œì phi1 pf1)
           (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2)
              pf2))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka1"><span class="nb">split</span>;[<span class="nb">auto</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">and</span>
  (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi</span> : @Pattern Œ£)
     (<span class="nv">wfphi</span> : is_true (@well_formed Œ£ phi)),
   @eq bool
     (uses_ex_gen EvS Œì
        (@patt_imp Œ£
           (@patt_imp Œ£
              (@patt_imp Œ£ phi (@patt_bott Œ£))
              (@patt_bott Œ£)) phi) (P3 Œì phi wfphi))
     false)
  (<span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi1</span> <span class="nv">phi2</span> : @Pattern Œ£)
     (<span class="nv">pf1</span> : ML_proof_system Œì phi1)
     (<span class="nv">pf2</span> : ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)),
   @eq bool
     (uses_ex_gen EvS Œì phi2
        (Modus_ponens Œì phi1 phi2 pf1 pf2))
     (orb (uses_ex_gen EvS Œì phi1 pf1)
        (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2) pf2)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka2"><span class="nb">split</span>;[<span class="nb">auto</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">phi1</span> <span class="nv">phi2</span> : @Pattern Œ£)
  (<span class="nv">pf1</span> : ML_proof_system Œì phi1)
  (<span class="nv">pf2</span> : ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)),
@eq bool
  (uses_ex_gen EvS Œì phi2
     (Modus_ponens Œì phi1 phi2 pf1 pf2))
  (orb (uses_ex_gen EvS Œì phi1 pf1)
     (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2) pf2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka3"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (uses_ex_gen EvS Œì phi2
     (Modus_ponens Œì phi1 phi2 pf1 pf2))
  (orb (uses_ex_gen EvS Œì phi1 pf1)
     (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2) pf2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka4"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>EvS</var><span class="hyp-type"><b>: </b><span>@EVarSet Œ£</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>phi1, phi2</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf1</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì phi1</span></span></span><br><span><var>pf2</var><span class="hyp-type"><b>: </b><span>ML_proof_system Œì (@patt_imp Œ£ phi1 phi2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq bool
  (orb (uses_ex_gen EvS Œì phi1 pf1)
     (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2) pf2))
  (orb (uses_ex_gen EvS Œì phi1 pf1)
     (uses_ex_gen EvS Œì (@patt_imp Œ£ phi1 phi2) pf2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">ml_proof_system</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> uses_svar_subst {Œ£} S {Œì} {œï} pf : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> uses_kt {Œ£} {Œì} {œï} pf : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> uses_ex_gen {Œ£} E {Œì} {œï} pf : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Notations_private</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;theory ‚ä¢r pattern&quot;</span> := (ML_proof_system theory <span class="nb">pattern</span>) (<span class="kn">at level</span> <span class="mi">95</span>, <span class="kn">no associativity</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Notations_private</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka5"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> coGset.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">New coercion path [Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">proof_info</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">Œ£</span> : Signature}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Notations_private.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka6"><span class="kn">Lemma</span> <span class="nf">instantiate_named_axiom</span> (<span class="nv">NA</span> : NamedAxioms) (<span class="nv">name</span> : (NAName NA)) :
    (theory_of_NamedAxioms NA) ‚ä¢r (@NAAxiom Œ£ NA name).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>NA</var><span class="hyp-type"><b>: </b><span>@NamedAxioms Œ£</span></span></span><br><span><var>name</var><span class="hyp-type"><b>: </b><span>@NAName Œ£ NA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@ML_proof_system Œ£ (@theory_of_NamedAxioms Œ£ NA)
  (@NAAxiom Œ£ NA name)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>NA</var><span class="hyp-type"><b>: </b><span>@NamedAxioms Œ£</span></span></span><br><span><var>name</var><span class="hyp-type"><b>: </b><span>@NAName Œ£ NA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@ML_proof_system Œ£ (@theory_of_NamedAxioms Œ£ NA)
  (@NAAxiom Œ£ NA name)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chka8"><span class="nb">apply</span> hypothesis.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>NA</var><span class="hyp-type"><b>: </b><span>@NamedAxioms Œ£</span></span></span><br><span><var>name</var><span class="hyp-type"><b>: </b><span>@NAName Œ£ NA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_true (@well_formed Œ£ (@NAAxiom Œ£ NA name))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chka9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>NA</var><span class="hyp-type"><b>: </b><span>@NamedAxioms Œ£</span></span></span><br><span><var>name</var><span class="hyp-type"><b>: </b><span>@NAName Œ£ NA</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chka9"><hr></label><div class="goal-conclusion">@elem_of (@Pattern Œ£) (@Theory Œ£)
  (@propset_elem_of (@Pattern Œ£)) 
  (@NAAxiom Œ£ NA name) (@theory_of_NamedAxioms Œ£ NA)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkaa">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>NA</var><span class="hyp-type"><b>: </b><span>@NamedAxioms Œ£</span></span></span><br><span><var>name</var><span class="hyp-type"><b>: </b><span>@NAName Œ£ NA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_true (@well_formed Œ£ (@NAAxiom Œ£ NA name))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> NAwf.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkab">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>NA</var><span class="hyp-type"><b>: </b><span>@NamedAxioms Œ£</span></span></span><br><span><var>name</var><span class="hyp-type"><b>: </b><span>@NAName Œ£ NA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@elem_of (@Pattern Œ£) (@Theory Œ£)
  (@propset_elem_of (@Pattern Œ£)) (@NAAxiom Œ£ NA name)
  (@theory_of_NamedAxioms Œ£ NA)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkac"><span class="nb">unfold</span> theory_of_NamedAxioms.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>NA</var><span class="hyp-type"><b>: </b><span>@NamedAxioms Œ£</span></span></span><br><span><var>name</var><span class="hyp-type"><b>: </b><span>@NAName Œ£ NA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@elem_of (@Pattern Œ£) (@Theory Œ£)
  (@propset_elem_of (@Pattern Œ£)) (@NAAxiom Œ£ NA name)
  (@PropSet (@Pattern Œ£)
     (<span class="kr">fun</span> <span class="nv">p</span> : @Pattern Œ£ =&gt;
      @ex (@NAName Œ£ NA)
        (<span class="kr">fun</span> <span class="nv">n</span> : @NAName Œ£ NA =&gt;
         @eq (@Pattern Œ£) p (@NAAxiom Œ£ NA n))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkad"><span class="nb">apply</span> elem_of_PropSet.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>NA</var><span class="hyp-type"><b>: </b><span>@NamedAxioms Œ£</span></span></span><br><span><var>name</var><span class="hyp-type"><b>: </b><span>@NAName Œ£ NA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@ex (@NAName Œ£ NA)
  (<span class="kr">fun</span> <span class="nv">n</span> : @NAName Œ£ NA =&gt;
   @eq (@Pattern Œ£) (@NAAxiom Œ£ NA name)
     (@NAAxiom Œ£ NA n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkae"><span class="kr">exists</span> <span class="nv">name</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>NA</var><span class="hyp-type"><b>: </b><span>@NamedAxioms Œ£</span></span></span><br><span><var>name</var><span class="hyp-type"><b>: </b><span>@NAName Œ£ NA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@eq (@Pattern Œ£) (@NAAxiom Œ£ NA name)
  (@NAAxiom Œ£ NA name)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coEVarSet</span> := coGset <span class="nb">evar</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coSVarSet</span> := coGset svar.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">WfpSet</span> := gmap.gset wfPattern.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coWfpSet</span> := coGset wfPattern.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">ProofInfo</span> :=
    mkProofInfo
    {
      pi_generalized_evars : coEVarSet ;
      pi_substituted_svars : coSVarSet ;
      pi_uses_kt : bool ;
      pi_framing_patterns : coWfpSet ; 
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* A proof together with some properties of it. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">ProofInfoMeaning</span>
    (<span class="nv">Œì</span> : Theory)
    (<span class="nv">œï</span> : Pattern)
    (<span class="nv">pwi_pf</span> : Œì ‚ä¢r œï)
    (<span class="nv">pi</span> : ProofInfo)
    : <span class="kt">Prop</span>
    :=
  mkProofInfoMeaning
  {
    pwi_pf_ge : gset_to_coGset (@uses_of_ex_gen Œ£ Œì œï pwi_pf) ‚äÜ pi_generalized_evars pi ;
    pwi_pf_svs : gset_to_coGset (@uses_of_svar_subst Œ£ Œì œï pwi_pf) ‚äÜ pi_substituted_svars pi ;
    pwi_pf_kt : implb (@uses_kt Œ£ Œì œï pwi_pf) (pi_uses_kt pi) ;
    pwi_pf_fp : gset_to_coGset (@framing_patterns Œ£ Œì œï pwi_pf) ‚äÜ (pi_framing_patterns pi) ;
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">ProofInfoLe</span> (<span class="nv">i‚ÇÅ</span> <span class="nv">i‚ÇÇ</span> : ProofInfo) :=
  { pi_le :
    <span class="kr">forall</span> (<span class="nv">Œì</span> : Theory) (<span class="nv">œï</span> : Pattern) (<span class="nv">pf</span> : Œì ‚ä¢r œï),
      @ProofInfoMeaning Œì œï pf i‚ÇÅ -&gt; @ProofInfoMeaning Œì œï pf i‚ÇÇ ;
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(*</span>
<span class="c">  #[global]</span>
<span class="c">  Instance</span>
<span class="c">  *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkaf"><span class="kn">Lemma</span> <span class="nf">pile_refl</span> (<span class="nv">i</span> : ProofInfo) : ProofInfoLe i i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoLe i i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoLe i i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb1"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i),
ProofInfoMeaning Œì œï pf i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb2"><span class="nb">intros</span> Œì œï pf H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Œì œï pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Œì œï pf i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(*</span>
<span class="c">  #[global]</span>
<span class="c">  Instance</span>
<span class="c">  *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb3"><span class="kn">Lemma</span> <span class="nf">pile_trans</span>
    (<span class="nv">i‚ÇÅ</span> <span class="nv">i‚ÇÇ</span> <span class="nv">i‚ÇÉ</span> : ProofInfo) (<span class="nv">PILE12</span> : ProofInfoLe i‚ÇÅ i‚ÇÇ) (<span class="nv">PILE23</span> : ProofInfoLe i‚ÇÇ i‚ÇÉ)
  : ProofInfoLe i‚ÇÅ i‚ÇÉ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i‚ÇÅ, i‚ÇÇ, i‚ÇÉ</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>PILE12</var><span class="hyp-type"><b>: </b><span>ProofInfoLe i‚ÇÅ i‚ÇÇ</span></span></span><br><span><var>PILE23</var><span class="hyp-type"><b>: </b><span>ProofInfoLe i‚ÇÇ i‚ÇÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoLe i‚ÇÅ i‚ÇÉ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i‚ÇÅ, i‚ÇÇ, i‚ÇÉ</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>PILE12</var><span class="hyp-type"><b>: </b><span>ProofInfoLe i‚ÇÅ i‚ÇÇ</span></span></span><br><span><var>PILE23</var><span class="hyp-type"><b>: </b><span>ProofInfoLe i‚ÇÇ i‚ÇÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoLe i‚ÇÅ i‚ÇÉ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb5"><span class="nb">destruct</span> PILE12 <span class="kr">as</span> [PILE12].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i‚ÇÅ, i‚ÇÇ, i‚ÇÉ</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>PILE12</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ),
ProofInfoMeaning Œì œï pf i‚ÇÇ</span></span></span><br><span><var>PILE23</var><span class="hyp-type"><b>: </b><span>ProofInfoLe i‚ÇÇ i‚ÇÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoLe i‚ÇÅ i‚ÇÉ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb6"><span class="nb">destruct</span> PILE23 <span class="kr">as</span> [PILE23].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i‚ÇÅ, i‚ÇÇ, i‚ÇÉ</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>PILE12</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ),
ProofInfoMeaning Œì œï pf i‚ÇÇ</span></span></span><br><span><var>PILE23</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÇ),
ProofInfoMeaning Œì œï pf i‚ÇÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoLe i‚ÇÅ i‚ÇÉ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb7"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i‚ÇÅ, i‚ÇÇ, i‚ÇÉ</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>PILE12</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ),
ProofInfoMeaning Œì œï pf i‚ÇÇ</span></span></span><br><span><var>PILE23</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÇ),
ProofInfoMeaning Œì œï pf i‚ÇÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ),
ProofInfoMeaning Œì œï pf i‚ÇÉ</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb8"><span class="nb">intros</span> Œì œï pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i‚ÇÅ, i‚ÇÇ, i‚ÇÉ</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>PILE12</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ),
ProofInfoMeaning Œì œï pf i‚ÇÇ</span></span></span><br><span><var>PILE23</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÇ),
ProofInfoMeaning Œì œï pf i‚ÇÉ</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ,
ProofInfoMeaning Œì œï pf i‚ÇÉ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkb9"><span class="nb">specialize</span> (PILE12 Œì œï pf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i‚ÇÅ, i‚ÇÇ, i‚ÇÉ</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>PILE12</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ,
ProofInfoMeaning Œì œï pf i‚ÇÇ</span></span></span><br><span><var>PILE23</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œì</span> : @Theory Œ£) (<span class="nv">œï</span> : @Pattern Œ£)
  (<span class="nv">pf</span> : @ML_proof_system Œ£ Œì œï)
  (<span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÇ),
ProofInfoMeaning Œì œï pf i‚ÇÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ,
ProofInfoMeaning Œì œï pf i‚ÇÉ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkba"><span class="nb">specialize</span> (PILE23 Œì œï pf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>i‚ÇÅ, i‚ÇÇ, i‚ÇÉ</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>PILE12</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ,
ProofInfoMeaning Œì œï pf i‚ÇÇ</span></span></span><br><span><var>PILE23</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÇ,
ProofInfoMeaning Œì œï pf i‚ÇÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : ProofInfoMeaning Œì œï pf i‚ÇÅ,
ProofInfoMeaning Œì œï pf i‚ÇÉ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">BasicReasoning</span> : ProofInfo := ((@mkProofInfo ‚àÖ ‚àÖ false ‚àÖ)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">AnyReasoning</span> : ProofInfo := (@mkProofInfo ‚ä§ ‚ä§ true ‚ä§).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">derives_using</span> <span class="nv">Œì</span> <span class="nv">œï</span> <span class="nv">pi</span>
  := ({pf : Œì ‚ä¢r œï | @ProofInfoMeaning _ _ pf pi }).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">derives</span> <span class="nv">Œì</span> <span class="nv">œï</span>
  := derives_using Œì œï AnyReasoning.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">raw_proof_of</span> {<span class="nv">Œì</span>} {<span class="nv">œï</span>} {<span class="nv">pi</span>}:
    derives_using Œì œï pi -&gt;
    ML_proof_system Œì œï
  := <span class="kr">fun</span> <span class="nv">pf</span> =&gt; proj1_sig pf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">proof_info</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;Œì &#39;‚ä¢i&#39; œï &#39;using&#39; pi&quot;</span>
:= (derives_using Œì œï pi)  (<span class="kn">at level</span> <span class="mi">95</span>, <span class="kn">no associativity</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;Œì ‚ä¢ œï&quot;</span> := (derives Œì œï)
(<span class="kn">at level</span> <span class="mi">95</span>, <span class="kn">no associativity</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;&#39;ExGen&#39; &#39;:=&#39; evs &#39;,&#39; &#39;SVSubst&#39; := svs &#39;,&#39; &#39;KT&#39; := bkt &#39;,&#39; &#39;FP&#39; := fpl&quot;</span>
  := (@mkProofInfo _ evs svs bkt fpl) (<span class="kn">at level</span> <span class="mi">95</span>, <span class="kn">no associativity</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* We cannot turn a proof into wellformedness hypotheses</span>
<span class="c">   if there is a ProofInfoLe hypothesis depending on the proof</span>
<span class="c">  *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac2</span> clear_piles () :=
  <span class="kp">repeat</span> (
    <span class="kr">lazy_match! goal with</span>
    | [ h : @ProofInfoLe _ _ _ |- _]
      =&gt; <span class="nb">clear</span> $h
    | [ h : @ProofInfoMeaning _ _ _ _ _ |- _]
      =&gt; <span class="nb">clear</span> $h
    <span class="kr">end</span>
  )
.</span><span class="alectryon-wsp">  
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac2</span> pfs_to_wfs () :=
  <span class="kp">repeat</span> (
    <span class="kr">match! goal with</span>
    | [h : @derives _ _ _ |- _]
      =&gt; <span class="nb">unfold</span> derives
    | [h : @derives_using _ _ _ _ |- _]
      =&gt; <span class="nb">apply</span> @raw_proof_of <span class="kr">in</span> $h
    | [ h: @ML_proof_system _ _ _ |- _]
      =&gt; <span class="nb">apply</span> @proved_impl_wf <span class="kr">in</span> $h
    <span class="kr">end</span>
  ).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac2 Set</span> proved_hook_wfauto <span class="kr">as</span> oldhook
:= (<span class="kr">fun</span> () =&gt; <span class="c">(*Message.print (Message.of_string &quot;hook_wfauto p2w&quot;);*)</span> clear_piles (); pfs_to_wfs () <span class="c">(*; oldhook ()*)</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(*</span>
<span class="c">Ltac2 Set hook_wfauto</span>
<span class="c">:= (fun () =&gt; Message.print (Message.of_string &quot;hook_wfauto p2w&quot;)).</span>
<span class="c">*)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkbb"><span class="kn">Lemma</span> <span class="nf">cast_proof&#39;</span> {<span class="nv">Œ£</span> : Signature} (<span class="nv">Œì</span> : Theory) (<span class="nv">œï</span> <span class="nv">œà</span> : Pattern) (<span class="nv">i</span> : ProofInfo) (<span class="nv">e</span> : œà = œï) :
derives_using Œì œï i -&gt;
derives_using Œì œà i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>@ProofInfo Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @derives_using Œ£ Œì œï i,
@derives_using Œ£ Œì œà i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkbc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>@ProofInfo Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">_</span> : @derives_using Œ£ Œì œï i,
@derives_using Œ£ Œì œà i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkbd"><span class="nb">intros</span> [pf Hpf].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>@ProofInfo Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>@ProofInfoMeaning Œ£ Œì œï pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@derives_using Œ£ Œì œà i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkbe"><span class="nb">unshelve</span> (<span class="nb">eexists</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>@ProofInfo Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>@ProofInfoMeaning Œ£ Œì œï pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@ML_proof_system Œ£ Œì œà</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofSystem-v-chkbf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>@ProofInfo Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>@ProofInfoMeaning Œ£ Œì œï pf i</span></span></span><br></div><label class="goal-separator" for="ProofSystem-v-chkbf"><hr></label><div class="goal-conclusion">@ProofInfoMeaning Œ£ Œì œà <span class="nl">?pf</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkc0">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>@ProofInfo Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>@ProofInfoMeaning Œ£ Œì œï pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@ML_proof_system Œ£ Œì œà</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkc1"><span class="nb">apply</span> (cast_proof e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>@ProofInfo Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>@ProofInfoMeaning Œ£ Œì œï pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@ML_proof_system Œ£ Œì œï</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> pf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkc2">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>@ProofInfo Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>@ProofInfoMeaning Œ£ Œì œï pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@ProofInfoMeaning Œ£ Œì œà (@cast_proof Œ£ Œì œï œà e pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofSystem-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofSystem-v-chkc3">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>@Theory Œ£</span></span></span><br><span><var>œï, œà</var><span class="hyp-type"><b>: </b><span>@Pattern Œ£</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>@ProofInfo Œ£</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>@eq (@Pattern Œ£) œà œï</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>@ML_proof_system Œ£ Œì œï</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>@ProofInfoMeaning Œ£ Œì œï pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@ProofInfoMeaning Œ£ Œì œà (@cast_proof Œ£ Œì œï œà e pf) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">abstract</span>(
  <span class="nb">destruct</span> Hpf <span class="kr">as</span> [Hpf2 Hpf3 Hpf4];
  <span class="nb">constructor</span>; [
  (
    <span class="nb">rewrite</span> elem_of_subseteq <span class="kr">in</span> Hpf2;
    <span class="nb">rewrite</span> elem_of_subseteq;
    <span class="nb">intros</span> x Hx;
    <span class="nb">specialize</span> (Hpf2 x);
    <span class="nb">apply</span> Hpf2; <span class="nb">clear</span> Hpf2;
    <span class="nb">rewrite</span> elem_of_gset_to_coGset <span class="kr">in</span> Hx;
    <span class="nb">rewrite</span> uses_of_ex_gen_correct <span class="kr">in</span> Hx;
    <span class="nb">rewrite</span> elem_of_gset_to_coGset;
    <span class="nb">rewrite</span> uses_of_ex_gen_correct;
    <span class="nb">rewrite</span> indifferent_to_cast_uses_ex_gen <span class="kr">in</span> Hx;
    <span class="bp">exact</span> Hx
  )|
  (
    <span class="nb">rewrite</span> elem_of_subseteq <span class="kr">in</span> Hpf3;
    <span class="nb">rewrite</span> elem_of_subseteq;
    <span class="nb">intros</span> x Hx;
    <span class="nb">specialize</span> (Hpf3 x);
    <span class="nb">apply</span> Hpf3; <span class="nb">clear</span> Hpf3;
    <span class="nb">rewrite</span> elem_of_gset_to_coGset <span class="kr">in</span> Hx;
    <span class="nb">rewrite</span> uses_of_svar_subst_correct <span class="kr">in</span> Hx;
    <span class="nb">rewrite</span> elem_of_gset_to_coGset;
    <span class="nb">rewrite</span> uses_of_svar_subst_correct;
    <span class="nb">rewrite</span> indifferent_to_cast_uses_svar_subst <span class="kr">in</span> Hx;
    <span class="bp">exact</span> Hx
  )|
  (
    <span class="nb">rewrite</span> indifferent_to_cast_uses_kt;
    <span class="nb">apply</span> Hpf4
  )|
  (
    <span class="nb">rewrite</span> framing_patterns_cast_proof;
    <span class="nb">destruct</span> i; <span class="bp">assumption</span>
  )
  ]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span></pre></article></body></html>