<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>ProofMode_reshaper.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.16.0+0.16.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+â†‘</kbd> <kbd>Ctrl+â†“</kbd> to navigate, <kbd>Ctrl+ğŸ–±ï¸</kbd> to focus. On Mac, use <kbd>âŒ˜</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> ssreflect ssrfun ssrbool.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> <span class="kn">Ltac2</span> <span class="kn">Require Import</span> <span class="kn">Ltac2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> Ensembles Bool String.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq.Logic <span class="kn">Require Import</span> FunctionalExtensionality Eqdep_dec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> <span class="kn">Equations</span> <span class="nf">Require</span> <span class="nv">Import</span> <span class="nv">Equations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Coq.Program.Tactics.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> MatchingLogic <span class="kn">Require Import</span>
    Syntax
    DerivedOperators_Syntax
    ProofSystem
    IndexManipulation
    wftactics
    ProofInfo
    ProofMode_base
    ProofMode_propositional
.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk0"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> list tactics fin_sets coGset gmap sets.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">New coercion path [Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote><blockquote class="alectryon-message">New coercion path [Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote><blockquote class="alectryon-message">New coercion path [Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote><blockquote class="alectryon-message">New coercion path [Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote><blockquote class="alectryon-message">New coercion path [Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote><blockquote class="alectryon-message">New coercion path [Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> MatchingLogic.Utils <span class="kn">Require Import</span> stdpp_ext.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> extralibrary.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span>
  MatchingLogic.Syntax.Notations
  MatchingLogic.DerivedOperators_Syntax.Notations
  MatchingLogic.ProofSystem.Notations
.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kt">Set</span> Default <span class="kn">Proof</span> Mode <span class="s2">&quot;Classic&quot;</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> ml_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> string_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> list_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">with_signature</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">Î£</span> : Signature}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> ml_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Structure</span> <span class="nf">TaggedPattern</span> := TagPattern { untagPattern :&gt; Pattern; }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">reshape_nil</span> <span class="nv">p</span> := TagPattern p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Canonical Structure</span> <span class="nf">reshape_cons</span> (p : Pattern) : TaggedPattern := reshape_nil p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Structure</span> <span class="nf">ImpReshapeS</span> (<span class="nv">g</span> : Pattern) (<span class="nv">l</span> : list Pattern) :=
  ImpReshape
    { irs_flattened :&gt; TaggedPattern ;
      irs_pf : (untagPattern irs_flattened) = foldr patt_imp g l ;
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1"><span class="kn">Lemma</span> <span class="nf">ImpReshape_nil_pf0</span>:
    <span class="kr">âˆ€</span> (<span class="nv">g</span> : Pattern),
      g = foldr patt_imp g [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">g</span> : Pattern, g = foldr patt_imp g []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">g</span> : Pattern, g = foldr patt_imp g []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g = foldr patt_imp g []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Canonical Structure</span> <span class="nf">ImpReshape_nil</span> (g : Pattern) : ImpReshapeS g [] :=
    ImpReshape g [] (reshape_nil g) (ImpReshape_nil_pf0 g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">Program <span class="kn">Canonical Structure</span> <span class="nf">ImpReshape_cons</span>
     (g x : Pattern) (xs : list Pattern) (r : ImpReshapeS g xs)
  : ImpReshapeS g (x::xs) :=
    ImpReshape g (x::xs) (reshape_cons (x ---&gt; untagPattern (reshape_cons r))) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk4"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">g</span> <span class="nv">x</span> : Pattern) (<span class="nv">xs</span> : list Pattern) (<span class="nv">r</span> : ImpReshapeS
                                             g xs),
  reshape_cons (x ---&gt; reshape_cons r) =
  foldr patt_imp g (x :: xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk5"><span class="nb">intros</span> g x xs r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reshape_cons (x ---&gt; reshape_cons r) =
foldr patt_imp g (x :: xs)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk6"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x ---&gt; r) = (x ---&gt; foldr patt_imp g xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk7"><span class="nb">rewrite</span> irs_pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x ---&gt; foldr patt_imp g xs) =
(x ---&gt; foldr patt_imp g xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk8"><span class="kn">Lemma</span> <span class="nf">reshape</span> (<span class="nv">Î“</span> : Theory) (<span class="nv">g</span> : Pattern) (<span class="nv">xs</span>: list Pattern) (<span class="nv">i</span> : ProofInfo) :
    <span class="kr">forall</span> (<span class="nv">r</span> : ImpReshapeS g xs),
       Î“ âŠ¢i foldr (patt_imp) g xs <span class="nb">using</span> i -&gt;
       Î“ âŠ¢i (untagPattern (irs_flattened _ _ r)) <span class="nb">using</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g xs,
  Î“ âŠ¢i foldr patt_imp g xs <span class="nb">using</span> i â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g xs,
  Î“ âŠ¢i foldr patt_imp g xs <span class="nb">using</span> i â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka"><span class="nb">intros</span> r [pf Hpf].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb"><span class="nb">unshelve</span> (<span class="nb">eexists</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Î“ r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkc"><hr></label><div class="goal-conclusion">ProofInfoMeaning Î“ r <span class="nl">?pf</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Î“ r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke"><span class="nb">eapply</span> cast_proof.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkf"><hr></label><div class="goal-conclusion">ML_proof_system Î“ <span class="nl">?Ï•</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk10">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> irs_pf; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk11">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Î“ (foldr patt_imp g xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> pf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk12">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     ((<span class="kr">Î»</span> <span class="nv">_evar_0_</span> : foldr patt_imp g xs =
                    foldr patt_imp g xs,
         eq_ind_r (eq^~ (foldr patt_imp g xs))
           _evar_0_ (irs_pf g xs r)) erefl) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk13">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     ((<span class="kr">Î»</span> <span class="nv">_evar_0_</span> : foldr patt_imp g xs =
                    foldr patt_imp g xs,
         eq_ind_r (eq^~ (foldr patt_imp g xs))
           _evar_0_ (irs_pf g xs r)) erefl) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk14"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk15"><span class="nb">destruct</span> Hpf <span class="kr">as</span> [Hpf2 Hpf3 Hpf4].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk16"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_ex_gen Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_generalized_evars i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk17" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk17"><hr></label><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk18"><hr></label><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) ==&gt; 
pi_uses_kt i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk19">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_ex_gen Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1a"><span class="nb">rewrite</span> elem_of_subseteq <span class="kr">in</span> Hpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ (foldr patt_imp g xs)
         pf) â†’ x âˆˆ pi_generalized_evars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_ex_gen Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1b"><span class="nb">rewrite</span> elem_of_subseteq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ (foldr patt_imp g xs)
         pf) â†’ x âˆˆ pi_generalized_evars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ r
         (cast_proof
            (eq_ind_r (eq^~ (foldr patt_imp g xs))
               erefl (irs_pf g xs r)) pf))
  â†’ x âˆˆ pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1c"><span class="nb">intros</span> x Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ (foldr patt_imp g xs)
         pf) â†’ x âˆˆ pi_generalized_evars i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1d"><span class="nb">specialize</span> (Hpf2 x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
â†’ x âˆˆ pi_generalized_evars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1e"><span class="nb">apply</span> Hpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
â†’ x âˆˆ pi_generalized_evars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1f"><span class="nb">clear</span> Hpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk20"><span class="nb">rewrite</span> elem_of_gset_to_coGset <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ uses_of_ex_gen Î“ r
    (cast_proof
       (eq_ind_r (eq^~ (foldr patt_imp g xs))
          erefl (irs_pf g xs r)) pf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk21"><span class="nb">rewrite</span> uses_of_ex_gen_correct <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk22"><span class="nb">rewrite</span> elem_of_gset_to_coGset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ uses_of_ex_gen Î“ (foldr patt_imp g xs) pf</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk23"><span class="nb">rewrite</span> uses_of_ex_gen_correct.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_ex_gen {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk24"><span class="nb">rewrite</span> indifferent_to_cast_uses_ex_gen <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]} pf = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_ex_gen {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Hx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk25">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk26" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk26"><hr></label><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) ==&gt; 
pi_uses_kt i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk27">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk28"><span class="nb">rewrite</span> elem_of_subseteq <span class="kr">in</span> Hpf3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“
         (foldr patt_imp g xs) pf)
  â†’ x âˆˆ pi_substituted_svars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk29"><span class="nb">rewrite</span> elem_of_subseteq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“
         (foldr patt_imp g xs) pf)
  â†’ x âˆˆ pi_substituted_svars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“ r
         (cast_proof
            (eq_ind_r (eq^~ (foldr patt_imp g xs))
               erefl (irs_pf g xs r)) pf))
  â†’ x âˆˆ pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2a"><span class="nb">intros</span> x Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“
         (foldr patt_imp g xs) pf)
  â†’ x âˆˆ pi_substituted_svars i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2b"><span class="nb">specialize</span> (Hpf3 x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ 
       (foldr patt_imp g xs) pf)
â†’ x âˆˆ pi_substituted_svars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2c"><span class="nb">apply</span> Hpf3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ 
       (foldr patt_imp g xs) pf)
â†’ x âˆˆ pi_substituted_svars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2d"><span class="nb">clear</span> Hpf3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2e"><span class="nb">rewrite</span> elem_of_gset_to_coGset <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ uses_of_svar_subst Î“ r
    (cast_proof
       (eq_ind_r (eq^~ (foldr patt_imp g xs))
          erefl (irs_pf g xs r)) pf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2f"><span class="nb">rewrite</span> uses_of_svar_subst_correct <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk30"><span class="nb">rewrite</span> elem_of_gset_to_coGset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ uses_of_svar_subst Î“ (foldr patt_imp g xs) pf</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk31"><span class="nb">rewrite</span> uses_of_svar_subst_correct.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_svar_subst {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk32"><span class="nb">rewrite</span> indifferent_to_cast_uses_svar_subst <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]} pf = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_svar_subst {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Hx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk33">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) ==&gt; pi_uses_kt i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk34">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) ==&gt; pi_uses_kt i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk35"><span class="nb">rewrite</span> indifferent_to_cast_uses_kt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_kt pf ==&gt; pi_uses_kt i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hpf4.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk36"><span class="kn">Local Example</span> <span class="nf">ex_reshape</span> <span class="nv">Î“</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> <span class="nv">d</span>:
    well_formed a -&gt;
    well_formed b -&gt;
    well_formed c -&gt;
    well_formed d -&gt;
    Î“ âŠ¢i a ---&gt; (b ---&gt; (c ---&gt; d)) <span class="nb">using</span> BasicReasoning.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d
        <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk37"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d
        <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk38"><span class="nb">intros</span> wfa wfb wfc wfd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk39"><span class="nb">apply</span> reshape.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp d [a; b; c] <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    <span class="c">(* Now the goal has the right shape *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

  <span class="c">(*</span>
<span class="c">    Î“ âŠ¢ (Ï†â‚ and ... and Ï†â‚–) ---&gt; Ïˆ</span>
<span class="c">    -------------------------------</span>
<span class="c">    Î“ âŠ¢ Ï†â‚ ---&gt; ... ---&gt; Ï†â‚– ---&gt; Ïˆ</span>
<span class="c">  *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3a"><span class="kn">Lemma</span> <span class="nf">reshape_lhs_imp_to_and_backward</span> <span class="nv">Î“</span> (<span class="nv">g</span> <span class="nv">x</span> : Pattern) (<span class="nv">xs</span> : list Pattern) <span class="nv">i</span> :
    well_formed g -&gt;
    well_formed x -&gt;
    Pattern.<span class="kn">wf</span> xs -&gt;
    <span class="kr">forall</span> (<span class="nv">r</span> : ImpReshapeS g (x::xs)),
       Î“ âŠ¢i ((foldr (patt_and) x xs) ---&gt; g) <span class="nb">using</span> i -&gt;
       Î“ âŠ¢i untagPattern (irs_flattened _ _ r) <span class="nb">using</span> i .</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g (x :: xs),
        Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i
        â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g (x :: xs),
        Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i
        â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3c"><span class="nb">intros</span> wfg wfx wfxs r H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3d"><span class="nb">eapply</span> cast_proof&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk3e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk3e"><hr></label><div class="goal-conclusion">Î“ âŠ¢i <span class="nl">?Ï•</span> <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> irs_pf; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk40">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk41"><span class="nb">clear</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> lhs_and_to_imp_meta; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk42"><span class="kn">Lemma</span> <span class="nf">reshape_lhs_imp_to_and_forward&#39;</span> <span class="nv">Î“</span> (<span class="nv">g</span> <span class="nv">x</span> : Pattern) (<span class="nv">xs</span> : list Pattern) <span class="nv">i</span> :
    well_formed g -&gt;
    well_formed x -&gt;
    Pattern.<span class="kn">wf</span> xs -&gt;
    <span class="kr">forall</span> (<span class="nv">r</span> : ImpReshapeS g (x::xs)),
       Î“ âŠ¢i untagPattern (irs_flattened _ _ r) <span class="nb">using</span> i -&gt;
       Î“ âŠ¢i ((foldr (patt_and) x xs) ---&gt; g) <span class="nb">using</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g (x :: xs),
        Î“ âŠ¢i r <span class="nb">using</span> i
        â†’ Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk43"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g (x :: xs),
        Î“ âŠ¢i r <span class="nb">using</span> i
        â†’ Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk44"><span class="nb">intros</span> wfg wfx wfxs r H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i r <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk45"><span class="nb">eapply</span> cast_proof&#39; <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i <span class="nl">?Ïˆ</span> <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk46" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i r <span class="nb">using</span> i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk46"><hr></label><div class="goal-conclusion"><span class="nl">?Ïˆ</span> = r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk47"><span class="mi">2</span>: {</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i r <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Ïˆ</span> = r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> irs_pf; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk48">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk49"><span class="nb">clear</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> lhs_imp_to_and_meta; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(*</span>
<span class="c">      Î“ âŠ¢ Ï†â‚ ---&gt; ... ---&gt; Ï†â‚– ---&gt; Ïˆ</span>
<span class="c">      ------------------------------</span>
<span class="c">      Î“ âŠ¢ (Ï†â‚ and ... and Ï†â‚–) ---&gt; Ïˆ</span>
<span class="c">  *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk4a"><span class="kn">Lemma</span> <span class="nf">reshape_lhs_imp_to_and_forward</span> <span class="nv">Î“</span> (<span class="nv">g</span> <span class="nv">x</span> : Pattern) (<span class="nv">xs</span> : list Pattern) <span class="nv">i</span> :
    well_formed g -&gt;
    well_formed x -&gt;
    Pattern.<span class="kn">wf</span> xs -&gt;
    <span class="kr">forall</span> (<span class="nv">r</span> : ImpReshapeS g (x::xs)),
       Î“ âŠ¢i untagPattern (irs_flattened _ _ r) <span class="nb">using</span> i -&gt;
       <span class="kr">match</span> (rev xs) <span class="kr">with</span>
       | [] =&gt; Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i
       | yk::ys =&gt;
          Î“ âŠ¢i ((foldr (patt_and) yk (x::(rev ys))) ---&gt; g) <span class="nb">using</span> i
       <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g (x :: xs),
        Î“ âŠ¢i r <span class="nb">using</span> i
        â†’ <span class="kr">match</span> rev xs <span class="kr">with</span>
          | [] =&gt; Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i
          | yk :: ys =&gt;
              Î“
              âŠ¢i foldr patt_and yk (x :: rev ys) ---&gt;
                 g <span class="nb">using</span> i
          <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk4b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g (x :: xs),
        Î“ âŠ¢i r <span class="nb">using</span> i
        â†’ <span class="kr">match</span> rev xs <span class="kr">with</span>
          | [] =&gt; Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i
          | yk :: ys =&gt;
              Î“
              âŠ¢i foldr patt_and yk (x :: rev ys) ---&gt;
                 g <span class="nb">using</span> i
          <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk4c"><span class="nb">intros</span> wfg wfx wfxs r H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i r <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> rev xs <span class="kr">with</span>
| [] =&gt; Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i
| yk :: ys =&gt;
    Î“ âŠ¢i foldr patt_and yk (x :: rev ys) ---&gt; g
    <span class="nb">using</span> i
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk4d"><span class="nb">apply</span> reshape_lhs_imp_to_and_forward&#39; <span class="kr">in</span> H;[|<span class="bp">assumption</span>|<span class="bp">assumption</span>|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> rev xs <span class="kr">with</span>
| [] =&gt; Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i
| yk :: ys =&gt;
    Î“ âŠ¢i foldr patt_and yk (x :: rev ys) ---&gt; g
    <span class="nb">using</span> i
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk4e"><span class="nb">destruct</span> (rev xs) <span class="nb">eqn</span>:Heqxs; <span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev xs = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev xs = p :: l</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk4f"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk50">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev xs = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk51"><span class="nb">apply</span> (<span class="nb">f_equal</span> (@rev Pattern)) <span class="kr">in</span> Heqxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev (rev xs) = rev []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk52"><span class="nb">rewrite</span> rev_involutive <span class="kr">in</span> Heqxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>xs = rev []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk53"><span class="nb">simpl</span> <span class="kr">in</span> Heqxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>xs = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk54"><span class="nb">subst</span> xs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x [] ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g [x]</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk55"><span class="nb">simpl</span> <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g [x]</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk56">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev xs = p :: l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk57">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev xs = p :: l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk58"><span class="nb">rewrite</span> -[xs]rev_involutive <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev xs = p :: l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev (rev xs)) ---&gt; g
<span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk59"><span class="nb">rewrite</span> Heqxs <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev xs = p :: l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev (p :: l)) ---&gt; g
<span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk5a"><span class="nb">simpl</span> <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev xs = p :: l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk5b"><span class="nb">destruct</span> xs <span class="kr">as</span> [|y ys];[(<span class="nb">simpl</span> <span class="kr">in</span> Heqxs; <span class="nb">inversion</span> Heqxs)|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev (y :: ys) = p :: l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk5c"><span class="nb">simpl</span> <span class="kr">in</span> Heqxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev ys ++ [y] = p :: l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk5d"><span class="nb">apply</span> (<span class="nb">f_equal</span> (@rev Pattern)) <span class="kr">in</span> Heqxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev (rev ys ++ [y]) = rev (p :: l)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk5e"><span class="nb">simpl</span> <span class="kr">in</span> Heqxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev (rev ys ++ [y]) = rev l ++ [p]</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk5f"><span class="nb">rewrite</span> rev_app_distr <span class="kr">in</span> Heqxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>rev [y] ++ rev (rev ys) = rev l ++ [p]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk60"><span class="nb">simpl</span> <span class="kr">in</span> Heqxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: rev (rev ys) = rev l ++ [p]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk61"><span class="nb">rewrite</span> rev_involutive <span class="kr">in</span> Heqxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk62"><span class="nb">assert</span> (Pattern.<span class="kn">wf</span> l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pattern.<span class="kn">wf</span> l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk63" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk63"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk64">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pattern.<span class="kn">wf</span> l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk65"><span class="nb">rewrite</span> Heqxs <span class="kr">in</span> wfxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l ++ [p])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pattern.<span class="kn">wf</span> l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk66"><span class="nb">apply</span> wfapp_proj_1 <span class="kr">in</span> wfxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pattern.<span class="kn">wf</span> l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk67"><span class="nb">rewrite</span> -[l]rev_involutive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pattern.<span class="kn">wf</span> (rev (rev l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk68"><span class="nb">apply</span> wf_rev.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pattern.<span class="kn">wf</span> (rev l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> wfxs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk69">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk6a"><span class="nb">assert</span> (well_formed p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk6b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk6b"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk6c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk6d"><span class="nb">rewrite</span> Heqxs <span class="kr">in</span> wfxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l ++ [p])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk6e"><span class="nb">apply</span> wfapp_proj_2 <span class="kr">in</span> wfxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> [p] = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk6f"><span class="nb">unfold</span> Pattern.<span class="kn">wf</span> <span class="kr">in</span> wfxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>foldr andb true (map well_formed [p]) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk70"><span class="nb">simpl</span> <span class="kr">in</span> wfxs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>well_formed p &amp;&amp; true = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input">destruct_and!; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk71">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk72"><span class="nb">assert</span> (Pattern.<span class="kn">wf</span> (rev l)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pattern.<span class="kn">wf</span> (rev l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk73" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk73"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk74">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pattern.<span class="kn">wf</span> (rev l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk75"><span class="nb">apply</span> wf_rev.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pattern.<span class="kn">wf</span> l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk76">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk77"><span class="nb">assert</span> (well_formed (foldr patt_and x l)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and x l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk78" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk78"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk79">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and x l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> well_formed_foldr_and; <span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk7a">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk7b"><span class="nb">assert</span> (well_formed (foldr patt_and p l)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and p l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk7c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk7c"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk7d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and p l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> well_formed_foldr_and; <span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk7e">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk7f"><span class="nb">assert</span> (well_formed (foldr patt_and (p <span class="kn">and</span> x) l)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk80" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk80"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk81">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> well_formed_foldr_and; wf_auto2.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk82">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk83"><span class="nb">assert</span> (well_formed (foldr patt_and x (rev l))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and x (rev l))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk84" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk84"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk85">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and x (rev l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> well_formed_foldr_and; <span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk86">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk87"><span class="nb">assert</span> (well_formed (foldr patt_and p (rev l))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and p (rev l))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk88" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk88"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk89">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and p (rev l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> well_formed_foldr_and; <span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk8a">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk8b"><span class="nb">assert</span> (well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk8c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk8c"><hr></label><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk8d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> well_formed_foldr_and; wf_auto2.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk8e">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk8f">toMLGoal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk90" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk90"><hr></label><div class="goal-conclusion">Î“ â±µ
x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g
<span class="nb">using</span> i
</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk91">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk92"><span class="nb">apply</span> well_formed_imp;[|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (x <span class="kn">and</span> foldr patt_and p (rev l)) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk93"><span class="nb">apply</span> well_formed_and;[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed (foldr patt_and p (rev l)) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> well_formed_foldr_and; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk94">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g
<span class="nb">using</span> i
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk95">mlAdd H <span class="kr">as</span> <span class="s2">&quot;H1&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;H1&quot;</span> âˆ¶ foldr patt_and x (rev l ++ [p]) ---&gt; g,
--------------------------------------
x <span class="kn">and</span> foldr patt_and p (rev l) ---&gt; g
<span class="nb">using</span> i
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk96">mlIntro <span class="s2">&quot;H2&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;H1&quot;</span> âˆ¶ foldr patt_and x (rev l ++ [p]) ---&gt; g,
<span class="s2">&quot;H2&quot;</span> âˆ¶ x <span class="kn">and</span> foldr patt_and p (rev l),
--------------------------------------
g
<span class="nb">using</span> i
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk97">mlApply <span class="s2">&quot;H1&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;H1&quot;</span> âˆ¶ foldr patt_and x (rev l ++ [p]) ---&gt; g,
<span class="s2">&quot;H2&quot;</span> âˆ¶ x <span class="kn">and</span> foldr patt_and p (rev l),
--------------------------------------
foldr patt_and x (rev l ++ [p])
<span class="nb">using</span> i
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk98">mlClear <span class="s2">&quot;H1&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;H2&quot;</span> âˆ¶ x <span class="kn">and</span> foldr patt_and p (rev l),
--------------------------------------
foldr patt_and x (rev l ++ [p])
<span class="nb">using</span> i
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk99"><span class="nb">rewrite</span> foldr_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;H2&quot;</span> âˆ¶ x <span class="kn">and</span> foldr patt_and p (rev l),
--------------------------------------
foldr patt_and (foldr patt_and x [p]) (rev l)
<span class="nb">using</span> i
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk9a"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;H2&quot;</span> âˆ¶ x <span class="kn">and</span> foldr patt_and p (rev l),
--------------------------------------
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> i
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk9b">useBasicReasoning.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;H2&quot;</span> âˆ¶ x <span class="kn">and</span> foldr patt_and p (rev l),
--------------------------------------
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk9c">mlAdd (foldr_and_weaken_last Î“ p (p <span class="kn">and</span> x) (rev l) <span class="kp">ltac</span>:(wf_auto2) <span class="kp">ltac</span>:(wf_auto2) <span class="kp">ltac</span>:(wf_auto2)) <span class="kr">as</span> <span class="s2">&quot;Hw&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;H2&quot;</span> âˆ¶ x <span class="kn">and</span> foldr patt_and p (rev l),
--------------------------------------
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk9d">mlDestructAnd <span class="s2">&quot;H2&quot;</span> <span class="kr">as</span> <span class="s2">&quot;Hx&quot;</span> <span class="s2">&quot;Hf&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
--------------------------------------
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk9e">mlAssert (<span class="s2">&quot;Hw&#39;&quot;</span>: (foldr patt_and p (rev l) ---&gt; foldr patt_and (p <span class="kn">and</span> x) (rev l))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk9f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk9f"><hr></label><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
--------------------------------------
foldr patt_and p (rev l) ---&gt;
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chka0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chka0"><hr></label><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
<span class="s2">&quot;Hw&#39;&quot;</span> âˆ¶ foldr patt_and p (rev l) ---&gt;
        foldr patt_and (p <span class="kn">and</span> x) (rev l),
--------------------------------------
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka1">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">wf_auto2.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka2">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
--------------------------------------
foldr patt_and p (rev l) ---&gt;
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chka3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chka3"><hr></label><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
<span class="s2">&quot;Hw&#39;&quot;</span> âˆ¶ foldr patt_and p (rev l) ---&gt;
        foldr patt_and (p <span class="kn">and</span> x) (rev l),
--------------------------------------
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka4">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
--------------------------------------
foldr patt_and p (rev l) ---&gt;
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka5">mlApply <span class="s2">&quot;Hw&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
--------------------------------------
p ---&gt; p <span class="kn">and</span> x
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka6">mlIntro <span class="s2">&quot;Hp&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
<span class="s2">&quot;Hp&quot;</span> âˆ¶ p,
--------------------------------------
p <span class="kn">and</span> x
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input">mlSplitAnd;[mlExact <span class="s2">&quot;Hp&quot;</span> | mlExact <span class="s2">&quot;Hx&quot;</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hw&quot;</span> âˆ¶ (p ---&gt; p <span class="kn">and</span> x) ---&gt;
       foldr patt_and p (rev l) ---&gt;
       foldr patt_and (p <span class="kn">and</span> x) (rev l),
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
<span class="s2">&quot;Hw&#39;&quot;</span> âˆ¶ foldr patt_and p (rev l) ---&gt;
        foldr patt_and (p <span class="kn">and</span> x) (rev l),
--------------------------------------
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka8">mlClear <span class="s2">&quot;Hw&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
<span class="s2">&quot;Hw&#39;&quot;</span> âˆ¶ foldr patt_and p (rev l) ---&gt;
        foldr patt_and (p <span class="kn">and</span> x) (rev l),
--------------------------------------
foldr patt_and (p <span class="kn">and</span> x) (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka9">mlApply <span class="s2">&quot;Hw&#39;&quot;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x, y</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>ys</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (y :: ys)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: y :: ys)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x (rev l ++ [p]) ---&gt; g
<span class="nb">using</span> i</span></span></span><br><span><var>Heqxs</var><span class="hyp-type"><b>: </b><span>y :: ys = rev l ++ [p]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> l</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>well_formed p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> (rev l)</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x l)</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p l)</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) l)</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and x (rev l))</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and p (rev l))</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>well_formed (foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br><span><var>Hwf</var><span class="hyp-type"><b>: </b><span>well_formed
  (foldr patt_and p (rev l) ---&gt;
   foldr patt_and (p <span class="kn">and</span> x) (rev l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ â±µ
<span class="s2">&quot;Hx&quot;</span> âˆ¶ x,
<span class="s2">&quot;Hf&quot;</span> âˆ¶ foldr patt_and p (rev l),
<span class="s2">&quot;Hw&#39;&quot;</span> âˆ¶ foldr patt_and p (rev l) ---&gt;
        foldr patt_and (p <span class="kn">and</span> x) (rev l),
--------------------------------------
foldr patt_and p (rev l)
<span class="nb">using</span> BasicReasoning
</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">mlExact <span class="s2">&quot;Hf&quot;</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkaa"><span class="kn">Local Example</span> <span class="nf">ex_match_imp</span> <span class="nv">Î“</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> <span class="nv">d</span>:
    well_formed a -&gt;
    well_formed b -&gt;
    well_formed c -&gt;
    well_formed d -&gt;
    Î“ âŠ¢i c ---&gt; (b ---&gt; (a ---&gt; d)) <span class="nb">using</span> BasicReasoning -&gt;
    Î“ âŠ¢i a ---&gt; (b ---&gt; (c ---&gt; d)) <span class="nb">using</span> BasicReasoning.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i c ---&gt; b ---&gt; a ---&gt; d
        <span class="nb">using</span> BasicReasoning
        â†’ Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d
          <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkab"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i c ---&gt; b ---&gt; a ---&gt; d
        <span class="nb">using</span> BasicReasoning
        â†’ Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d
          <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkac"><span class="nb">intros</span> wfa wfb wfc wfd H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i c ---&gt; b ---&gt; a ---&gt; d <span class="nb">using</span> BasicReasoning</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkad"><span class="nb">apply</span> reshape_lhs_imp_to_and_backward; try_wfauto2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i c ---&gt; b ---&gt; a ---&gt; d <span class="nb">using</span> BasicReasoning</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and a [b; c] ---&gt; d
<span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkae"><span class="nb">apply</span> reshape_lhs_imp_to_and_forward <span class="kr">in</span> H; try_wfauto2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> rev [b; a] <span class="kr">with</span>
| [] =&gt; Î“ âŠ¢i c ---&gt; d <span class="nb">using</span> BasicReasoning
| yk :: ys =&gt;
    Î“ âŠ¢i foldr patt_and yk (c :: rev ys) ---&gt; d
    <span class="nb">using</span> BasicReasoning
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and a [b; c] ---&gt; d
<span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkaf"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i c <span class="kn">and</span> (b <span class="kn">and</span> a) ---&gt; d <span class="nb">using</span> BasicReasoning</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i b <span class="kn">and</span> (c <span class="kn">and</span> a) ---&gt; d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Structure</span> <span class="nf">AndReshapeS</span> (<span class="nv">g</span> : Pattern) (<span class="nv">l</span> : list Pattern) :=
  AndReshape
    { ars_flattened :&gt; TaggedPattern ;
      ars_pf : (untagPattern ars_flattened) = foldr patt_and g l ;
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb0"><span class="kn">Lemma</span> <span class="nf">AndReshape_nil_pf0</span>:
    <span class="kr">âˆ€</span> (<span class="nv">g</span> : Pattern),
      g = foldr patt_and g [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">g</span> : Pattern, g = foldr patt_and g []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">g</span> : Pattern, g = foldr patt_and g []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb2"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g = foldr patt_and g []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Canonical Structure</span> <span class="nf">AndReshape_nil</span> (g : Pattern) : AndReshapeS g [] :=
    AndReshape g [] (reshape_nil g) (AndReshape_nil_pf0 g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">Program <span class="kn">Canonical Structure</span> <span class="nf">AndReshape_cons</span>
     (g x : Pattern) (xs : list Pattern) (r : AndReshapeS g xs)
  : AndReshapeS g (x::xs) :=
    AndReshape g (x::xs) (reshape_cons (x <span class="kn">and</span> untagPattern (reshape_cons r))) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb3"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">g</span> <span class="nv">x</span> : Pattern) (<span class="nv">xs</span> : list Pattern) (<span class="nv">r</span> : AndReshapeS
                                             g xs),
  reshape_cons (x <span class="kn">and</span> reshape_cons r) =
  foldr patt_and g (x :: xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb4"><span class="nb">intros</span> g x xs r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reshape_cons (x <span class="kn">and</span> reshape_cons r) =
foldr patt_and g (x :: xs)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb5"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x <span class="kn">and</span> r) = (x <span class="kn">and</span> foldr patt_and g xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb6"><span class="nb">rewrite</span> ars_pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x <span class="kn">and</span> foldr patt_and g xs) =
(x <span class="kn">and</span> foldr patt_and g xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb7"><span class="kn">Lemma</span> <span class="nf">reshape_and</span> (<span class="nv">Î“</span> : Theory) (<span class="nv">g</span> : Pattern) (<span class="nv">xs</span>: list Pattern) (<span class="nv">i</span> : ProofInfo) :
    <span class="kr">forall</span> (<span class="nv">r</span> : AndReshapeS g xs),
       Î“ âŠ¢i foldr (patt_and) g xs <span class="nb">using</span> i -&gt;
       Î“ âŠ¢i (untagPattern (ars_flattened _ _ r)) <span class="nb">using</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">r</span> : AndReshapeS g xs,
  Î“ âŠ¢i foldr patt_and g xs <span class="nb">using</span> i â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">r</span> : AndReshapeS g xs,
  Î“ âŠ¢i foldr patt_and g xs <span class="nb">using</span> i â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb9"><span class="nb">intros</span> r [pf Hpf].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkba"><span class="nb">unshelve</span> (<span class="nb">eexists</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Î“ r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkbb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkbb"><hr></label><div class="goal-conclusion">ProofInfoMeaning Î“ r <span class="nl">?pf</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkbc">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Î“ r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkbd"><span class="nb">eapply</span> cast_proof.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkbe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkbe"><hr></label><div class="goal-conclusion">ML_proof_system Î“ <span class="nl">?Ï•</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkbf">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> ars_pf; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkc0">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Î“ (foldr patt_and g xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> pf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkc1">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     ((<span class="kr">Î»</span> <span class="nv">_evar_0_</span> : foldr patt_and g xs =
                    foldr patt_and g xs,
         eq_ind_r (eq^~ (foldr patt_and g xs))
           _evar_0_ (ars_pf g xs r)) erefl) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkc2">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     ((<span class="kr">Î»</span> <span class="nv">_evar_0_</span> : foldr patt_and g xs =
                    foldr patt_and g xs,
         eq_ind_r (eq^~ (foldr patt_and g xs))
           _evar_0_ (ars_pf g xs r)) erefl) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkc3"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_and g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkc4"><span class="nb">destruct</span> Hpf <span class="kr">as</span> [Hpf2 Hpf3 Hpf4].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkc5"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_ex_gen Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
           (ars_pf g xs r)) pf))
âŠ† pi_generalized_evars i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkc6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkc6"><hr></label><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
           (ars_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkc7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkc7"><hr></label><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) ==&gt; 
pi_uses_kt i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkc8">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_ex_gen Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
           (ars_pf g xs r)) pf))
âŠ† pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkc9"><span class="nb">rewrite</span> elem_of_subseteq <span class="kr">in</span> Hpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ (foldr patt_and g xs)
         pf) â†’ x âˆˆ pi_generalized_evars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_ex_gen Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
           (ars_pf g xs r)) pf))
âŠ† pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkca"><span class="nb">rewrite</span> elem_of_subseteq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ (foldr patt_and g xs)
         pf) â†’ x âˆˆ pi_generalized_evars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ r
         (cast_proof
            (eq_ind_r (eq^~ (foldr patt_and g xs))
               erefl (ars_pf g xs r)) pf))
  â†’ x âˆˆ pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkcb"><span class="nb">intros</span> x Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ (foldr patt_and g xs)
         pf) â†’ x âˆˆ pi_generalized_evars i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_and g xs))
             erefl (ars_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkcc"><span class="nb">specialize</span> (Hpf2 x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
â†’ x âˆˆ pi_generalized_evars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_and g xs))
             erefl (ars_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkcd"><span class="nb">apply</span> Hpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
â†’ x âˆˆ pi_generalized_evars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_and g xs))
             erefl (ars_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkce"><span class="nb">clear</span> Hpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_and g xs))
             erefl (ars_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkcf"><span class="nb">rewrite</span> elem_of_gset_to_coGset <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ uses_of_ex_gen Î“ r
    (cast_proof
       (eq_ind_r (eq^~ (foldr patt_and g xs))
          erefl (ars_pf g xs r)) pf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd0"><span class="nb">rewrite</span> uses_of_ex_gen_correct <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd1"><span class="nb">rewrite</span> elem_of_gset_to_coGset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ uses_of_ex_gen Î“ (foldr patt_and g xs) pf</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd2"><span class="nb">rewrite</span> uses_of_ex_gen_correct.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_ex_gen {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd3"><span class="nb">rewrite</span> indifferent_to_cast_uses_ex_gen <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]} pf = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_ex_gen {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Hx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd4">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
           (ars_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkd5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkd5"><hr></label><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) ==&gt; 
pi_uses_kt i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd6">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
           (ars_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd7"><span class="nb">rewrite</span> elem_of_subseteq <span class="kr">in</span> Hpf3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“
         (foldr patt_and g xs) pf)
  â†’ x âˆˆ pi_substituted_svars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
           (ars_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd8"><span class="nb">rewrite</span> elem_of_subseteq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“
         (foldr patt_and g xs) pf)
  â†’ x âˆˆ pi_substituted_svars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“ r
         (cast_proof
            (eq_ind_r (eq^~ (foldr patt_and g xs))
               erefl (ars_pf g xs r)) pf))
  â†’ x âˆˆ pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd9"><span class="nb">intros</span> x Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“
         (foldr patt_and g xs) pf)
  â†’ x âˆˆ pi_substituted_svars i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_and g xs))
             erefl (ars_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkda"><span class="nb">specialize</span> (Hpf3 x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ 
       (foldr patt_and g xs) pf)
â†’ x âˆˆ pi_substituted_svars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_and g xs))
             erefl (ars_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkdb"><span class="nb">apply</span> Hpf3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ 
       (foldr patt_and g xs) pf)
â†’ x âˆˆ pi_substituted_svars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_and g xs))
             erefl (ars_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_and g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkdc"><span class="nb">clear</span> Hpf3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_and g xs))
             erefl (ars_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_and g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkdd"><span class="nb">rewrite</span> elem_of_gset_to_coGset <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ uses_of_svar_subst Î“ r
    (cast_proof
       (eq_ind_r (eq^~ (foldr patt_and g xs))
          erefl (ars_pf g xs r)) pf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_and g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkde"><span class="nb">rewrite</span> uses_of_svar_subst_correct <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_and g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkdf"><span class="nb">rewrite</span> elem_of_gset_to_coGset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ uses_of_svar_subst Î“ (foldr patt_and g xs) pf</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke0"><span class="nb">rewrite</span> uses_of_svar_subst_correct.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_svar_subst {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke1"><span class="nb">rewrite</span> indifferent_to_cast_uses_svar_subst <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]} pf = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_svar_subst {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Hx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke2">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) ==&gt; pi_uses_kt i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke3">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_and g xs)) erefl
        (ars_pf g xs r)) pf) ==&gt; pi_uses_kt i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke4"><span class="nb">rewrite</span> indifferent_to_cast_uses_kt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_and g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_and g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_and g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_kt pf ==&gt; pi_uses_kt i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hpf4.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke5"><span class="kn">Local Example</span> <span class="nf">ex_reshape_and</span> <span class="nv">Î“</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> <span class="nv">d</span>:
  well_formed a -&gt;
  well_formed b -&gt;
  well_formed c -&gt;
  well_formed d -&gt;
  Î“ âŠ¢i a <span class="kn">and</span> b <span class="kn">and</span> c <span class="kn">and</span> d <span class="nb">using</span> BasicReasoning.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a <span class="kn">and</span> b <span class="kn">and</span> c <span class="kn">and</span> d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a <span class="kn">and</span> b <span class="kn">and</span> c <span class="kn">and</span> d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke7"><span class="nb">intros</span> wfa wfb wfc wfd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i a <span class="kn">and</span> b <span class="kn">and</span> c <span class="kn">and</span> d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke8"><span class="nb">apply</span> reshape_and.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and d [a <span class="kn">and</span> b <span class="kn">and</span> c]
<span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* Now the goal has the right shape *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
    <span class="c">(*</span>
<span class="c">      Î“ âŠ¢ Ï†â‚ ---&gt; ... ---&gt; Ï†â‚– ---&gt; Ïˆ</span>
<span class="c">      ------------------------------</span>
<span class="c">      Î“ âŠ¢ (Ï†â‚ and ... and Ï†â‚–) ---&gt; Ïˆ</span>
<span class="c">    *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke9"><span class="kn">Lemma</span> <span class="nf">reshape_lhs_and_to_imp_backward</span> <span class="nv">Î“</span> (<span class="nv">g</span> <span class="nv">x</span> : Pattern) (<span class="nv">xs</span> : list Pattern) <span class="nv">i</span> :
    well_formed g -&gt;
    well_formed x -&gt;
    Pattern.<span class="kn">wf</span> xs -&gt;
    <span class="kr">forall</span> (<span class="nv">r</span> : AndReshapeS x xs),
       Î“ âŠ¢i ((foldr (patt_imp) g (x::xs))) <span class="nb">using</span> i -&gt;
       Î“ âŠ¢i (untagPattern (ars_flattened _ _ r)) ---&gt; g <span class="nb">using</span> i .</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : AndReshapeS x xs,
        Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i
        â†’ Î“ âŠ¢i r ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkea"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : AndReshapeS x xs,
        Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i
        â†’ Î“ âŠ¢i r ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkeb"><span class="nb">intros</span> wfg wfx wfxs r H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i r ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkec"><span class="nb">eapply</span> cast_proof&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r ---&gt; g) = <span class="nl">?Ï•</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chked" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chked"><hr></label><div class="goal-conclusion">Î“ âŠ¢i <span class="nl">?Ï•</span> <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkee">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r ---&gt; g) = <span class="nl">?Ï•</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> ars_pf; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkef">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkf0"><span class="nb">clear</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> lhs_imp_to_and_meta; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkf1"><span class="kn">Lemma</span> <span class="nf">reshape_lhs_and_to_imp_forward</span> <span class="nv">Î“</span> (<span class="nv">g</span> <span class="nv">x</span> : Pattern) (<span class="nv">xs</span> : list Pattern) <span class="nv">i</span> :
    well_formed g -&gt;
    well_formed x -&gt;
    Pattern.<span class="kn">wf</span> xs -&gt;
    <span class="kr">forall</span> (<span class="nv">r</span> : AndReshapeS x xs),
      Î“ âŠ¢i (untagPattern (ars_flattened _ _ r)) ---&gt; g <span class="nb">using</span> i -&gt;
      Î“ âŠ¢i ((foldr (patt_imp) g (x::xs))) <span class="nb">using</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : AndReshapeS x xs,
        Î“ âŠ¢i r ---&gt; g <span class="nb">using</span> i
        â†’ Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkf2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : AndReshapeS x xs,
        Î“ âŠ¢i r ---&gt; g <span class="nb">using</span> i
        â†’ Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkf3"><span class="nb">intros</span> wfg wfx wfxs r H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i r ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkf4"><span class="nb">eapply</span> cast_proof&#39; <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i <span class="nl">?Ïˆ</span> <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkf5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i r ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkf5"><hr></label><div class="goal-conclusion"><span class="nl">?Ïˆ</span> = (r ---&gt; g)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkf6"><span class="mi">2</span>: {</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i r ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Ïˆ</span> = (r ---&gt; g)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> ars_pf; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkf7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>AndReshapeS x xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkf8"><span class="nb">clear</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> lhs_and_to_imp_meta; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkf9"><span class="kn">Local Example</span> <span class="nf">ex_match_and</span> <span class="nv">Î“</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> <span class="nv">d</span>:
   well_formed a -&gt;
   well_formed b -&gt;
   well_formed c -&gt;
   well_formed d -&gt;
   Î“ âŠ¢i (a <span class="kn">and</span> b <span class="kn">and</span> c) ---&gt; d <span class="nb">using</span> BasicReasoning.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a <span class="kn">and</span> b <span class="kn">and</span> c ---&gt; d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkfa"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a <span class="kn">and</span> b <span class="kn">and</span> c ---&gt; d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkfb"><span class="nb">intros</span> wfa wfb wfc wfd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i a <span class="kn">and</span> b <span class="kn">and</span> c ---&gt; d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkfc"><span class="nb">apply</span> reshape_lhs_and_to_imp_backward; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed d</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkfd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkfd"><hr></label><div class="goal-conclusion">well_formed c</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkfe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkfe"><hr></label><div class="goal-conclusion">Pattern.<span class="kn">wf</span> [a <span class="kn">and</span> b]</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkff" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkff"><hr></label><div class="goal-conclusion">Î“ âŠ¢i c ---&gt; a <span class="kn">and</span> b ---&gt; d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">with_signature</span>.</span><span class="alectryon-wsp">
</span></span></pre></article></body></html>