<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>IndexManipulation</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">File IndexManipulation</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">MatchingLogic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">Substitution</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Freshness</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">MatchingLogic.Substitution.Notations</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">index_manipulation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">Σ</span> : <span class="id" title="var">Signature</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ml_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> {<span class="id" title="keyword">struct</span> <span class="id" title="var">ϕ</span>} : <span class="id" title="var">Pattern</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ϕ</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_free_evar</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_free_svar</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_bound_evar</span> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">patt_bound_evar</span> (<span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">n</span> &lt; <span class="id" title="keyword">level</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">n</span> <span class="id" title="keyword">else</span> <span class="id" title="var">n</span> + <span class="id" title="var">more</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_bound_svar</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_sym</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_bott</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_app</span> <span class="id" title="var">ϕ₁</span> <span class="id" title="var">ϕ₂</span> ⇒ <span class="id" title="var">patt_app</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ₁</span>) (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ₂</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_imp</span> <span class="id" title="var">ϕ₁</span> <span class="id" title="var">ϕ₂</span> ⇒ <span class="id" title="var">patt_imp</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ₁</span>) (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ₂</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_exists</span> <span class="id" title="var">ϕ'</span> ⇒ <span class="id" title="var">patt_exists</span> (<span class="id" title="var">nest_ex_aux</span> (<span class="id" title="var">S</span> <span class="id" title="keyword">level</span>) <span class="id" title="var">more</span> <span class="id" title="var">ϕ'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_mu</span> <span class="id" title="var">ϕ'</span> ⇒ <span class="id" title="var">patt_mu</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> {<span class="id" title="keyword">struct</span> <span class="id" title="var">ϕ</span>} : <span class="id" title="var">Pattern</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ϕ</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_free_evar</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_free_svar</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_bound_evar</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_bound_svar</span> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">patt_bound_svar</span> (<span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">n</span> &lt; <span class="id" title="keyword">level</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">n</span> <span class="id" title="keyword">else</span> <span class="id" title="var">n</span> + <span class="id" title="var">more</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_sym</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_bott</span> ⇒ <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_app</span> <span class="id" title="var">ϕ₁</span> <span class="id" title="var">ϕ₂</span> ⇒ <span class="id" title="var">patt_app</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ₁</span>) (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ₂</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_imp</span> <span class="id" title="var">ϕ₁</span> <span class="id" title="var">ϕ₂</span> ⇒ <span class="id" title="var">patt_imp</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ₁</span>) (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ₂</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_exists</span> <span class="id" title="var">ϕ'</span> ⇒ <span class="id" title="var">patt_exists</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">patt_mu</span> <span class="id" title="var">ϕ'</span> ⇒ <span class="id" title="var">patt_mu</span> (<span class="id" title="var">nest_mu_aux</span> (<span class="id" title="var">S</span> <span class="id" title="keyword">level</span>) <span class="id" title="var">more</span> <span class="id" title="var">ϕ'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">nest_ex</span> <span class="id" title="var">ϕ</span> := <span class="id" title="var">nest_ex_aux</span> 0 1 <span class="id" title="var">ϕ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">nest_mu</span> <span class="id" title="var">ϕ</span> := <span class="id" title="var">nest_mu_aux</span> 0 1 <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">bevar_occur_nest_ex</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> ≥ <span class="id" title="var">dbi</span> → <span class="id" title="var">x</span> &lt; <span class="id" title="var">dbi</span> + <span class="id" title="var">more</span> → <span class="id" title="var">bevar_occur</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ) <span class="id" title="var">x</span> = <span class="id" title="var">false</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">bsvar_occur_nest_mu</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> ≥ <span class="id" title="var">dbi</span> → <span class="id" title="var">x</span> &lt; <span class="id" title="var">dbi</span> + <span class="id" title="var">more</span> → <span class="id" title="var">bsvar_occur</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ) <span class="id" title="var">x</span> = <span class="id" title="var">false</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">not_bevar_occur_level_nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">more</span> &gt; 0 →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">bevar_occur</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) <span class="id" title="keyword">level</span> = <span class="id" title="var">false</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">not_bsvar_occur_level_nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">more</span> &gt; 0 →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">bsvar_occur</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) <span class="id" title="keyword">level</span> = <span class="id" title="var">false</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">not_bevar_occur_0_nest_ex</span> <span class="id" title="var">ϕ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">bevar_occur</span> (<span class="id" title="var">nest_ex</span> <span class="id" title="var">ϕ</span>) 0 = <span class="id" title="var">false</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">not_bsvar_occur_0_nest_mu</span> <span class="id" title="var">ϕ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">bsvar_occur</span> (<span class="id" title="var">nest_mu</span> <span class="id" title="var">ϕ</span>) 0 = <span class="id" title="var">false</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_ex_aux_wfcex</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_ex_aux</span> <span class="id" title="var">ϕ</span> <span class="id" title="keyword">level</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> = <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_mu_aux_wfcmu</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> <span class="id" title="var">ϕ</span> <span class="id" title="keyword">level</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> = <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_ex_gt</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">dbi2</span> ψ <span class="id" title="var">more</span>, <span class="id" title="var">dbi2</span> ≥ <span class="id" title="var">dbi</span> → <span class="id" title="var">well_formed_closed</span> ψ →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ)^[<span class="id" title="tactic">evar</span>: (<span class="id" title="var">dbi2</span> + <span class="id" title="var">more</span>) ↦ ψ] = <span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> (φ^[<span class="id" title="tactic">evar</span>: <span class="id" title="var">dbi2</span> ↦ ψ]).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_mu_gt</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">dbi2</span> ψ <span class="id" title="var">more</span>, <span class="id" title="var">dbi2</span> ≥ <span class="id" title="var">dbi</span> → <span class="id" title="var">well_formed_closed</span> ψ →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ)^[<span class="id" title="var">svar</span>: (<span class="id" title="var">dbi2</span> + <span class="id" title="var">more</span>) ↦ ψ] = <span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> (φ^[<span class="id" title="var">svar</span>: <span class="id" title="var">dbi2</span> ↦ ψ]).<br/>

<br/>
</div>

<div class="doc">
NESTING AND QUANTIFICATION 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_ex_gt_evar_quantify</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">x</span> <span class="id" title="var">more</span>, <span class="id" title="var">dbi</span> ≥ <span class="id" title="var">dbi2</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">more</span> φ)^{{<span class="id" title="tactic">evar</span>: <span class="id" title="var">x</span> ↦ <span class="id" title="var">dbi</span> + <span class="id" title="var">more</span>}} = <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">more</span> (φ^{{<span class="id" title="tactic">evar</span>: <span class="id" title="var">x</span> ↦ <span class="id" title="var">dbi</span>}}).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_mu_gt_svar_quantify</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">x</span> <span class="id" title="var">more</span>, <span class="id" title="var">dbi</span> ≥ <span class="id" title="var">dbi2</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">more</span> φ)^{{<span class="id" title="var">svar</span>: <span class="id" title="var">x</span> ↦ <span class="id" title="var">dbi</span> + <span class="id" title="var">more</span>}} = <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">more</span> (φ^{{<span class="id" title="var">svar</span>: <span class="id" title="var">x</span> ↦ <span class="id" title="var">dbi</span>}}).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_mu_evar_quantify</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">x</span> <span class="id" title="var">more</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">more</span> φ)^{{<span class="id" title="tactic">evar</span>: <span class="id" title="var">x</span> ↦ <span class="id" title="var">dbi</span>}} = <span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">more</span> (φ^{{<span class="id" title="tactic">evar</span>: <span class="id" title="var">x</span> ↦ <span class="id" title="var">dbi</span>}}).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_ex_svar_quantify</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">x</span> <span class="id" title="var">more</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">more</span> φ)^{{<span class="id" title="var">svar</span>: <span class="id" title="var">x</span> ↦ <span class="id" title="var">dbi</span>}} = <span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi2</span> <span class="id" title="var">more</span> (φ^{{<span class="id" title="var">svar</span>: <span class="id" title="var">x</span> ↦ <span class="id" title="var">dbi</span>}}).<br/>

<br/>
</div>

<div class="doc">
NESTING AND FREE VARIABLE SUBSTITUTION 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_ex_free_evar_subst</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">x</span> <span class="id" title="var">more</span> ψ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_ex_aux</span> ψ <span class="id" title="var">dbi</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ)^[[<span class="id" title="tactic">evar</span>: <span class="id" title="var">x</span> ↦ ψ]] = <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> (φ^[[<span class="id" title="tactic">evar</span>: <span class="id" title="var">x</span> ↦ ψ]]).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_mu_free_evar_subst</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">x</span> <span class="id" title="var">more</span> ψ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> ψ <span class="id" title="var">dbi</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ)^[[<span class="id" title="tactic">evar</span>: <span class="id" title="var">x</span> ↦ ψ]] = <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> (φ^[[<span class="id" title="tactic">evar</span>: <span class="id" title="var">x</span> ↦ ψ]]).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_ex_free_svar_subst</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">X</span> <span class="id" title="var">more</span> ψ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_ex_aux</span> ψ <span class="id" title="var">dbi</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ)^[[<span class="id" title="var">svar</span>: <span class="id" title="var">X</span> ↦ ψ]] = <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> (φ^[[<span class="id" title="var">svar</span>: <span class="id" title="var">X</span> ↦ ψ]]).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_mu_free_svar_subst</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> <span class="id" title="var">X</span> <span class="id" title="var">more</span> ψ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> ψ <span class="id" title="var">dbi</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ)^[[<span class="id" title="var">svar</span>: <span class="id" title="var">X</span> ↦ ψ]] = <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> (φ^[[<span class="id" title="var">svar</span>: <span class="id" title="var">X</span> ↦ ψ]]).<br/>

<br/>
</div>

<div class="doc">
******* 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_ex_same_general</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> ψ <span class="id" title="var">more</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>,  <span class="id" title="var">x</span> ≥ <span class="id" title="var">dbi</span> → <span class="id" title="var">x</span> &lt; <span class="id" title="var">dbi</span> + <span class="id" title="var">more</span> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ)^[<span class="id" title="tactic">evar</span>: <span class="id" title="var">x</span> ↦ ψ] = <span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> (<span class="id" title="var">pred</span> <span class="id" title="var">more</span>) φ.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_mu_same_general</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> ψ <span class="id" title="var">more</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>,  <span class="id" title="var">x</span> ≥ <span class="id" title="var">dbi</span> → <span class="id" title="var">x</span> &lt; <span class="id" title="var">dbi</span> + <span class="id" title="var">more</span> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> φ)^[<span class="id" title="var">svar</span>: <span class="id" title="var">x</span> ↦ ψ] = <span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> (<span class="id" title="var">pred</span> <span class="id" title="var">more</span>) φ.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_mu_aux_0</span> <span class="id" title="keyword">level</span> <span class="id" title="var">p</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> 0 <span class="id" title="var">p</span> = <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nest_ex_aux_0</span> <span class="id" title="keyword">level</span> <span class="id" title="var">p</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> 0 <span class="id" title="var">p</span> = <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">nest_ex_same</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> ψ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> 1 φ)^[<span class="id" title="tactic">evar</span>: <span class="id" title="var">dbi</span> ↦ ψ] = φ.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">nest_mu_same</span> : <span class="id" title="keyword">∀</span> φ <span class="id" title="var">dbi</span> ψ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> 1 φ)^[<span class="id" title="var">svar</span>: <span class="id" title="var">dbi</span> ↦ ψ] = φ.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fuse_nest_ex</span> <span class="id" title="var">n</span> <span class="id" title="var">more</span> <span class="id" title="var">more'</span> <span class="id" title="var">p</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> ≤ <span class="id" title="var">more</span> → <span class="id" title="var">nest_ex_aux</span> (<span class="id" title="var">n</span> + <span class="id" title="var">x</span>) <span class="id" title="var">more'</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">n</span> <span class="id" title="var">more</span> <span class="id" title="var">p</span>) = <span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">n</span> (<span class="id" title="var">more</span> + <span class="id" title="var">more'</span>) <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fuse_nest_mu</span> <span class="id" title="var">n</span> <span class="id" title="var">more</span> <span class="id" title="var">more'</span> <span class="id" title="var">p</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> ≤ <span class="id" title="var">more</span> → <span class="id" title="var">nest_mu_aux</span> (<span class="id" title="var">n</span> + <span class="id" title="var">x</span>) <span class="id" title="var">more'</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">n</span> <span class="id" title="var">more</span> <span class="id" title="var">p</span>) = <span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">n</span> (<span class="id" title="var">more</span> + <span class="id" title="var">more'</span>) <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">fuse_nest_ex_same</span> <span class="id" title="var">n</span> <span class="id" title="var">more</span> <span class="id" title="var">more'</span> <span class="id" title="var">p</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">n</span> <span class="id" title="var">more'</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">n</span> <span class="id" title="var">more</span> <span class="id" title="var">p</span>) = <span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">n</span> (<span class="id" title="var">more</span> + <span class="id" title="var">more'</span>) <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">fuse_nest_mu_same</span> <span class="id" title="var">n</span> <span class="id" title="var">more</span> <span class="id" title="var">more'</span> <span class="id" title="var">p</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">n</span> <span class="id" title="var">more'</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">n</span> <span class="id" title="var">more</span> <span class="id" title="var">p</span>) = <span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">n</span> (<span class="id" title="var">more</span> + <span class="id" title="var">more'</span>) <span class="id" title="var">p</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">bsvar_subst_nest_ex_aux_comm</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">dbi</span> ψ:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_ex_aux</span> ψ <span class="id" title="keyword">level</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)^[<span class="id" title="var">svar</span>: <span class="id" title="var">dbi</span> ↦ ψ] = <span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> (<span class="id" title="var">ϕ</span>^[<span class="id" title="var">svar</span>: <span class="id" title="var">dbi</span> ↦ ψ]).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">svar_open_nest_ex_aux_comm</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">dbi</span> <span class="id" title="var">X</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)^{<span class="id" title="var">svar</span>: <span class="id" title="var">dbi</span> ↦ <span class="id" title="var">X</span>} = <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> (<span class="id" title="var">ϕ</span>^{<span class="id" title="var">svar</span>: <span class="id" title="var">dbi</span> ↦ <span class="id" title="var">X</span>}).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">bevar_subst_nest_mu_aux_comm</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">dbi</span> ψ:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> ψ <span class="id" title="keyword">level</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)^[<span class="id" title="tactic">evar</span>: <span class="id" title="var">dbi</span> ↦ ψ] = <span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> (<span class="id" title="var">ϕ</span>^[<span class="id" title="tactic">evar</span>: <span class="id" title="var">dbi</span> ↦ ψ]).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">evar_open_nest_mu_aux_comm</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">dbi</span> <span class="id" title="var">X</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)^{<span class="id" title="tactic">evar</span>: <span class="id" title="var">dbi</span> ↦ <span class="id" title="var">X</span>} =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> (<span class="id" title="var">ϕ</span>^{<span class="id" title="tactic">evar</span>: <span class="id" title="var">dbi</span> ↦ <span class="id" title="var">X</span>}).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">free_svars_nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">free_svars</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">free_svars</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">free_evars_nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">free_evars</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">free_evars</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">free_evars_nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">free_evars</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">free_evars</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">free_evars_nest_ex</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">free_evars</span> (<span class="id" title="var">nest_ex</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">free_evars</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">free_svars_nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">free_svars</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">free_svars</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">free_svars_nest_mu</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">free_svars</span> (<span class="id" title="var">nest_mu</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">free_svars</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">fresh_svar_nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fresh_svar</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">fresh_svar</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">fresh_evar_nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fresh_evar</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">fresh_evar</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">fresh_evar_nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fresh_evar</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">fresh_evar</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">fresh_svar_nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fresh_svar</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">fresh_svar</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">svar_open_nest_ex_comm</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">dbi</span> <span class="id" title="var">X</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_ex</span> <span class="id" title="var">ϕ</span>)^{<span class="id" title="var">svar</span>: <span class="id" title="var">dbi</span> ↦ <span class="id" title="var">X</span>} = <span class="id" title="var">nest_ex</span> (<span class="id" title="var">ϕ</span>^{<span class="id" title="var">svar</span>: <span class="id" title="var">dbi</span> ↦ <span class="id" title="var">X</span>}).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">evar_open_nest_mu_comm</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">dbi</span> <span class="id" title="var">X</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nest_mu</span> <span class="id" title="var">ϕ</span>)^{<span class="id" title="tactic">evar</span>: <span class="id" title="var">dbi</span> ↦ <span class="id" title="var">X</span>} = <span class="id" title="var">nest_mu</span> (<span class="id" title="var">ϕ</span>^{<span class="id" title="tactic">evar</span>: <span class="id" title="var">dbi</span> ↦ <span class="id" title="var">X</span>}).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">wfc_mu_nest_mu</span> <span class="id" title="var">psi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">level'</span> <span class="id" title="var">more</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> <span class="id" title="var">psi</span> <span class="id" title="keyword">level</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">level'</span> <span class="id" title="var">more</span> <span class="id" title="var">psi</span>) (<span class="id" title="keyword">level</span>+<span class="id" title="var">more</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">wfc_mu_nest_mu'</span> <span class="id" title="var">psi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">level'</span> <span class="id" title="var">less</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">level</span> ≥ <span class="id" title="var">less</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> <span class="id" title="var">psi</span> (<span class="id" title="keyword">level</span> - <span class="id" title="var">less</span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="var">level'</span> <span class="id" title="var">less</span> <span class="id" title="var">psi</span>) <span class="id" title="keyword">level</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">wfc_ex_nest_ex</span> <span class="id" title="var">psi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">level'</span> <span class="id" title="var">more</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_ex_aux</span> <span class="id" title="var">psi</span> <span class="id" title="keyword">level</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_ex_aux</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">level'</span> <span class="id" title="var">more</span> <span class="id" title="var">psi</span>) (<span class="id" title="keyword">level</span>+<span class="id" title="var">more</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">wfc_ex_nest_ex'</span> <span class="id" title="var">psi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">level'</span> <span class="id" title="var">less</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">level</span> ≥ <span class="id" title="var">less</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_ex_aux</span> <span class="id" title="var">psi</span> (<span class="id" title="keyword">level</span> - <span class="id" title="var">less</span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_ex_aux</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="var">level'</span> <span class="id" title="var">less</span> <span class="id" title="var">psi</span>) <span class="id" title="keyword">level</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">wfc_ex_nest_mu</span> <span class="id" title="var">dbi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_ex_aux</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) <span class="id" title="var">dbi</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">well_formed_closed_ex_aux</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">dbi</span> <br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">wfc_mu_nest_ex</span> <span class="id" title="var">dbi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) <span class="id" title="var">dbi</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">well_formed_closed_mu_aux</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">dbi</span> <br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">impl_wfc_mu_nest_ex</span> <span class="id" title="var">dbi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> <span class="id" title="var">ϕ</span> <span class="id" title="var">dbi</span> = <span class="id" title="var">true</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_closed_mu_aux</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) <span class="id" title="var">dbi</span> = <span class="id" title="var">true</span><br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Private_positive_negative_occurrence_db_nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">no_negative_occurrence_db_b</span> <span class="id" title="var">dbi</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">dbi</span> &lt; <span class="id" title="keyword">level</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">no_negative_occurrence_db_b</span> <span class="id" title="var">dbi</span> <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">dbi</span> &lt; <span class="id" title="keyword">level</span> + <span class="id" title="var">more</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">true</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="var">no_negative_occurrence_db_b</span> (<span class="id" title="var">dbi</span>-<span class="id" title="var">more</span>) <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;) ∧ (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">no_positive_occurrence_db_b</span> <span class="id" title="var">dbi</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">dbi</span> &lt; <span class="id" title="keyword">level</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">no_positive_occurrence_db_b</span> <span class="id" title="var">dbi</span> <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">dbi</span> &lt; <span class="id" title="keyword">level</span> + <span class="id" title="var">more</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">true</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="var">no_positive_occurrence_db_b</span> (<span class="id" title="var">dbi</span>-<span class="id" title="var">more</span>) <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_negative_occurrence_db_nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">no_negative_occurrence_db_b</span> <span class="id" title="var">dbi</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">dbi</span> &lt; <span class="id" title="keyword">level</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">no_negative_occurrence_db_b</span> <span class="id" title="var">dbi</span> <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">dbi</span> &lt; <span class="id" title="keyword">level</span> + <span class="id" title="var">more</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">true</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="var">no_negative_occurrence_db_b</span> (<span class="id" title="var">dbi</span>-<span class="id" title="var">more</span>) <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_positive_occurrence_db_nest_mu_aux</span> <span class="id" title="var">dbi</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">no_positive_occurrence_db_b</span> <span class="id" title="var">dbi</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">dbi</span> &lt; <span class="id" title="keyword">level</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">no_positive_occurrence_db_b</span> <span class="id" title="var">dbi</span> <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="var">decide</span> (<span class="id" title="var">dbi</span> &lt; <span class="id" title="keyword">level</span> + <span class="id" title="var">more</span>) <span class="id" title="keyword">is</span> <span class="id" title="tactic">left</span> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <span class="id" title="var">true</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="var">no_positive_occurrence_db_b</span> (<span class="id" title="var">dbi</span>-<span class="id" title="var">more</span>) <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">well_formed_positive_nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_positive</span> (<span class="id" title="var">nest_mu_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">well_formed_positive</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_negative_occurrence_db_nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">dbi</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">no_negative_occurrence_db_b</span> <span class="id" title="var">dbi</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">no_negative_occurrence_db_b</span> <span class="id" title="var">dbi</span> <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="var">no_positive_occurrence_db_nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">dbi</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">no_positive_occurrence_db_b</span> <span class="id" title="var">dbi</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">no_positive_occurrence_db_b</span> <span class="id" title="var">dbi</span> <span class="id" title="var">ϕ</span><br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">well_formed_positive_nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_positive</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">well_formed_positive</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">impl_well_formed_positive_nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_positive</span> <span class="id" title="var">ϕ</span> = <span class="id" title="var">true</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">well_formed_positive</span> (<span class="id" title="var">nest_ex_aux</span> <span class="id" title="keyword">level</span> <span class="id" title="var">more</span> <span class="id" title="var">ϕ</span>) = <span class="id" title="var">true</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">simpl_free_evars</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">left_id_L</span> <span class="id" title="var">EVarSet</span>  ∅ (@<span class="id" title="var">union</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">right_id_L</span> <span class="id" title="var">EVarSet</span> ∅ (@<span class="id" title="var">union</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">free_evars_nest_ex_aux</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">nest_ex_same</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">free_evars_nest_ex</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">simpl_free_svars</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">left_id_L</span> <span class="id" title="var">SVarSet</span>  ∅ (@<span class="id" title="var">union</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">right_id_L</span> <span class="id" title="var">SVarSet</span> ∅ (@<span class="id" title="var">union</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">free_svars_nest_mu_aux</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">nest_mu_same</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">free_svars_nest_mu</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">index_manipulation</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "solve_free_evars_inclusion" <span class="id" title="var">int_or_var</span>(<span class="id" title="var">depth</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">do</span> ? [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">simpl_free_evars</span>/=]);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">unify_free_evar_conditions</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> <span class="id" title="var">C</span> [<span class="id" title="var">free_evars</span> (<span class="id" title="var">foldr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">free_evars_of_list_foldr</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> <span class="id" title="var">C</span> [<span class="id" title="var">free_evars_of_list</span> <span class="id" title="var">_</span>] ⇒ <span class="id" title="tactic">unfold</span> <span class="id" title="var">free_evars_of_list</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> <span class="id" title="var">C</span> [<span class="id" title="var">free_evars</span> (<span class="id" title="var">foldr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)] |- <span class="id" title="var">_</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">free_evars_of_list_foldr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span>: <span class="id" title="keyword">context</span> <span class="id" title="var">C</span> [<span class="id" title="var">free_evars_of_list</span> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span>] ⇒ <span class="id" title="tactic">unfold</span> <span class="id" title="var">free_evars_of_list</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify_map_app_union</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> <span class="id" title="var">C</span> [<span class="id" title="var">map</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> ++ <span class="id" title="var">_</span>)] ⇒ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">map_app</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> <span class="id" title="var">C</span> [<span class="id" title="var">map</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> ++ <span class="id" title="var">_</span>)] |- <span class="id" title="var">_</span>] ⇒ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">map_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> <span class="id" title="var">C</span> [<span class="id" title="var">union_list</span> (<span class="id" title="var">_</span> ++ <span class="id" title="var">_</span>)] ⇒ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">union_list_app</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> <span class="id" title="var">C</span> [<span class="id" title="var">union_list</span> (<span class="id" title="var">_</span> ++ <span class="id" title="var">_</span>)] |- <span class="id" title="var">_</span>] ⇒ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">union_list_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="comment">(*&nbsp;same&nbsp;as&nbsp;the&nbsp;previous&nbsp;"solve_free_evars_inclusion",&nbsp;but&nbsp;without&nbsp;clearing,<br/>
&nbsp;&nbsp;&nbsp;and&nbsp;support&nbsp;for&nbsp;list&nbsp;of&nbsp;free&nbsp;evars&nbsp;*)</span><br/>
<span class="id" title="keyword">Tactic Notation</span> "solve_free_evars" <span class="id" title="var">int_or_var</span>(<span class="id" title="var">depth</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">evar_is_fresh_in</span> <span class="id" title="tactic">in</span> *;  <br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">unify_free_evar_conditions</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">simplify_map_app_union</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">free_evars_evar_quantify</span>;<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">do</span> ? [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">simpl_free_evars</span>/=]);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "solve_free_svars_inclusion" <span class="id" title="var">int_or_var</span>(<span class="id" title="var">depth</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">do</span> ? [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">simpl_free_svars</span>/=]) ;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
</div>
<hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>