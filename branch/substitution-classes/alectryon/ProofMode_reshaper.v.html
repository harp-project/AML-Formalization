<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>ProofMode_reshaper.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.15.0+0.15.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+â†‘</kbd> <kbd>Ctrl+â†“</kbd> to navigate, <kbd>Ctrl+ğŸ–±ï¸</kbd> to focus. On Mac, use <kbd>âŒ˜</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> ssreflect ssrfun ssrbool.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> <span class="kn">Ltac2</span> <span class="kn">Require Import</span> <span class="kn">Ltac2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> Ensembles Bool.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq.Logic <span class="kn">Require Import</span> FunctionalExtensionality Eqdep_dec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> <span class="kn">Equations</span> <span class="nf">Require</span> <span class="nv">Import</span> <span class="nv">Equations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Coq.Program.Tactics.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> MatchingLogic <span class="kn">Require Import</span>
    Syntax
    DerivedOperators_Syntax
    ProofSystem
    IndexManipulation
    wftactics
    ProofMode_base
    ProofMode_propositional
.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk0"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> list tactics fin_sets coGset gmap sets.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">New coercion path [Is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span> <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[is_true] : bool &gt;-&gt; <span class="kt">Sortclass</span>.
[ambiguous-paths,typechecker]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> MatchingLogic.Utils <span class="kn">Require Import</span> stdpp_ext.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> extralibrary.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span>
  MatchingLogic.Syntax.Notations
  MatchingLogic.DerivedOperators_Syntax.Notations
  MatchingLogic.ProofSystem.Notations
.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kt">Set</span> Default <span class="kn">Proof</span> Mode <span class="s2">&quot;Classic&quot;</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">with_signature</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">Î£</span> : Signature}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> ml_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Structure</span> <span class="nf">TaggedPattern</span> := TagPattern { untagPattern :&gt; Pattern; }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">reshape_nil</span> <span class="nv">p</span> := TagPattern p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Canonical Structure</span> <span class="nf">reshape_cons</span> (p : Pattern) : TaggedPattern := reshape_nil p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Structure</span> <span class="nf">ImpReshapeS</span> (<span class="nv">g</span> : Pattern) (<span class="nv">l</span> : list Pattern) :=
  ImpReshape
    { irs_flattened :&gt; TaggedPattern ;
      irs_pf : (untagPattern irs_flattened) = foldr patt_imp g l ;
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1"><span class="kn">Lemma</span> <span class="nf">ImpReshape_nil_pf0</span>:
    <span class="kr">âˆ€</span> (<span class="nv">g</span> : Pattern),
      g = foldr patt_imp g [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">g</span> : Pattern, g = foldr patt_imp g []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">g</span> : Pattern, g = foldr patt_imp g []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g = foldr patt_imp g []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Canonical Structure</span> <span class="nf">ImpReshape_nil</span> (g : Pattern) : ImpReshapeS g [] :=
    ImpReshape g [] (reshape_nil g) (ImpReshape_nil_pf0 g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">Program <span class="kn">Canonical Structure</span> <span class="nf">ImpReshape_cons</span>
     (g x : Pattern) (xs : list Pattern) (r : ImpReshapeS g xs)
  : ImpReshapeS g (x::xs) :=
    ImpReshape g (x::xs) (reshape_cons (x ---&gt; untagPattern (reshape_cons r))) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk4"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">g</span> <span class="nv">x</span> : Pattern) (<span class="nv">xs</span> : list Pattern) (<span class="nv">r</span> : ImpReshapeS
                                             g xs),
  reshape_cons (x ---&gt; reshape_cons r) =
  foldr patt_imp g (x :: xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk5"><span class="nb">intros</span> g x xs r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reshape_cons (x ---&gt; reshape_cons r) =
foldr patt_imp g (x :: xs)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk6"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x ---&gt; r) = (x ---&gt; foldr patt_imp g xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk7"><span class="nb">rewrite</span> irs_pf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x ---&gt; foldr patt_imp g xs) =
(x ---&gt; foldr patt_imp g xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk8"><span class="kn">Lemma</span> <span class="nf">reshape</span> (<span class="nv">Î“</span> : Theory) (<span class="nv">g</span> : Pattern) (<span class="nv">xs</span>: list Pattern) (<span class="nv">i</span> : ProofInfo) :
    <span class="kr">forall</span> (<span class="nv">r</span> : ImpReshapeS g xs),
       Î“ âŠ¢i foldr (patt_imp) g xs <span class="nb">using</span> i -&gt;
       Î“ âŠ¢i (untagPattern (irs_flattened _ _ r)) <span class="nb">using</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g xs,
  Î“ âŠ¢i foldr patt_imp g xs <span class="nb">using</span> i â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g xs,
  Î“ âŠ¢i foldr patt_imp g xs <span class="nb">using</span> i â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chka"><span class="nb">intros</span> r [pf Hpf].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkb"><span class="nb">unshelve</span> (<span class="nb">eexists</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Î“ r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkc"><hr></label><div class="goal-conclusion">ProofInfoMeaning Î“ r <span class="nl">?pf</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chkd">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Î“ r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chke"><span class="nb">eapply</span> cast_proof.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chkf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chkf"><hr></label><div class="goal-conclusion">ML_proof_system Î“ <span class="nl">?Ï•</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk10">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> irs_pf; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk11">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ML_proof_system Î“ (foldr patt_imp g xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> pf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk12">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     ((<span class="kr">Î»</span> <span class="nv">_evar_0_</span> : foldr patt_imp g xs =
                    foldr patt_imp g xs,
         eq_ind_r (eq^~ (foldr patt_imp g xs))
           _evar_0_ (irs_pf g xs r)) erefl) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk13">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     ((<span class="kr">Î»</span> <span class="nv">_evar_0_</span> : foldr patt_imp g xs =
                    foldr patt_imp g xs,
         eq_ind_r (eq^~ (foldr patt_imp g xs))
           _evar_0_ (irs_pf g xs r)) erefl) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk14"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf</var><span class="hyp-type"><b>: </b><span>ProofInfoMeaning Î“ (foldr patt_imp g xs) pf i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk15"><span class="nb">destruct</span> Hpf <span class="kr">as</span> [Hpf2 Hpf3 Hpf4].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ProofInfoMeaning Î“ r
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk16"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_ex_gen Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_generalized_evars i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk17" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk17"><hr></label><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk18"><hr></label><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) ==&gt; 
pi_uses_kt i</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk19"><hr></label><div class="goal-conclusion">gset_to_coGset
  (framing_patterns Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_framing_patterns i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_ex_gen Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1b"><span class="nb">rewrite</span> elem_of_subseteq <span class="kr">in</span> Hpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ (foldr patt_imp g xs)
         pf) â†’ x âˆˆ pi_generalized_evars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_ex_gen Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1c"><span class="nb">rewrite</span> elem_of_subseteq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ (foldr patt_imp g xs)
         pf) â†’ x âˆˆ pi_generalized_evars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ r
         (cast_proof
            (eq_ind_r (eq^~ (foldr patt_imp g xs))
               erefl (irs_pf g xs r)) pf))
  â†’ x âˆˆ pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1d"><span class="nb">intros</span> x Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : <span class="nb">evar</span>,
  x
  âˆˆ gset_to_coGset
      (uses_of_ex_gen Î“ (foldr patt_imp g xs)
         pf) â†’ x âˆˆ pi_generalized_evars i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1e"><span class="nb">specialize</span> (Hpf2 x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
â†’ x âˆˆ pi_generalized_evars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_generalized_evars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk1f"><span class="nb">apply</span> Hpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
â†’ x âˆˆ pi_generalized_evars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk20"><span class="nb">clear</span> Hpf2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk21"><span class="nb">rewrite</span> elem_of_gset_to_coGset <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ uses_of_ex_gen Î“ r
    (cast_proof
       (eq_ind_r (eq^~ (foldr patt_imp g xs))
          erefl (irs_pf g xs r)) pf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk22"><span class="nb">rewrite</span> uses_of_ex_gen_correct <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk23"><span class="nb">rewrite</span> elem_of_gset_to_coGset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ uses_of_ex_gen Î“ (foldr patt_imp g xs) pf</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk24"><span class="nb">rewrite</span> uses_of_ex_gen_correct.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_ex_gen {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk25"><span class="nb">rewrite</span> indifferent_to_cast_uses_ex_gen <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="nb">evar</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_ex_gen {[x]} pf = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_ex_gen {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Hx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk26">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk27" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk27"><hr></label><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) ==&gt; 
pi_uses_kt i</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk28" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk28"><hr></label><div class="goal-conclusion">gset_to_coGset
  (framing_patterns Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_framing_patterns i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk29">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2a"><span class="nb">rewrite</span> elem_of_subseteq <span class="kr">in</span> Hpf3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“
         (foldr patt_imp g xs) pf)
  â†’ x âˆˆ pi_substituted_svars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (uses_of_svar_subst Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2b"><span class="nb">rewrite</span> elem_of_subseteq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“
         (foldr patt_imp g xs) pf)
  â†’ x âˆˆ pi_substituted_svars i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“ r
         (cast_proof
            (eq_ind_r (eq^~ (foldr patt_imp g xs))
               erefl (irs_pf g xs r)) pf))
  â†’ x âˆˆ pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2c"><span class="nb">intros</span> x Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : svar,
  x
  âˆˆ gset_to_coGset
      (uses_of_svar_subst Î“
         (foldr patt_imp g xs) pf)
  â†’ x âˆˆ pi_substituted_svars i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2d"><span class="nb">specialize</span> (Hpf3 x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ 
       (foldr patt_imp g xs) pf)
â†’ x âˆˆ pi_substituted_svars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ pi_substituted_svars i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2e"><span class="nb">apply</span> Hpf3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ 
       (foldr patt_imp g xs) pf)
â†’ x âˆˆ pi_substituted_svars i</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk2f"><span class="nb">clear</span> Hpf3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ r
       (cast_proof
          (eq_ind_r (eq^~ (foldr patt_imp g xs))
             erefl (irs_pf g xs r)) pf))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk30"><span class="nb">rewrite</span> elem_of_gset_to_coGset <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x
âˆˆ uses_of_svar_subst Î“ r
    (cast_proof
       (eq_ind_r (eq^~ (foldr patt_imp g xs))
          erefl (irs_pf g xs r)) pf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk31"><span class="nb">rewrite</span> uses_of_svar_subst_correct <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
âˆˆ gset_to_coGset
    (uses_of_svar_subst Î“ (foldr patt_imp g xs) pf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk32"><span class="nb">rewrite</span> elem_of_gset_to_coGset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ uses_of_svar_subst Î“ (foldr patt_imp g xs) pf</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk33"><span class="nb">rewrite</span> uses_of_svar_subst_correct.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]}
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_svar_subst {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk34"><span class="nb">rewrite</span> indifferent_to_cast_uses_svar_subst <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>svar</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>uses_svar_subst {[x]} pf = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_svar_subst {[x]} pf = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Hx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk35">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) ==&gt; pi_uses_kt i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk36" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk36"><hr></label><div class="goal-conclusion">gset_to_coGset
  (framing_patterns Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_framing_patterns i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk37">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_kt
  (cast_proof
     (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
        (irs_pf g xs r)) pf) ==&gt; pi_uses_kt i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk38"><span class="nb">rewrite</span> indifferent_to_cast_uses_kt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">uses_kt pf ==&gt; pi_uses_kt i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hpf4.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk39">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (framing_patterns Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_framing_patterns i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (framing_patterns Î“ r
     (cast_proof
        (eq_ind_r (eq^~ (foldr patt_imp g xs)) erefl
           (irs_pf g xs r)) pf))
âŠ† pi_framing_patterns i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3b"><span class="nb">rewrite</span> framing_patterns_cast_proof.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g xs</span></span></span><br><span><var>pf</var><span class="hyp-type"><b>: </b><span>ML_proof_system Î“ (foldr patt_imp g xs)</span></span></span><br><span><var>Hpf2</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_ex_gen Î“ (foldr patt_imp g xs) pf)
âŠ† pi_generalized_evars i</span></span></span><br><span><var>Hpf3</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (uses_of_svar_subst Î“ (foldr patt_imp g xs)
     pf) âŠ† pi_substituted_svars i</span></span></span><br><span><var>Hpf4</var><span class="hyp-type"><b>: </b><span>uses_kt pf ==&gt; pi_uses_kt i</span></span></span><br><span><var>pwi_pf_fp</var><span class="hyp-type"><b>: </b><span>gset_to_coGset
  (framing_patterns Î“
     (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gset_to_coGset
  (framing_patterns Î“ (foldr patt_imp g xs) pf)
âŠ† pi_framing_patterns i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> i;<span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3c"><span class="kn">Local Example</span> <span class="nf">ex_reshape</span> <span class="nv">Î“</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> <span class="nv">d</span>:
    well_formed a -&gt;
    well_formed b -&gt;
    well_formed c -&gt;
    well_formed d -&gt;
    Î“ âŠ¢i a ---&gt; (b ---&gt; (c ---&gt; d)) <span class="nb">using</span> BasicReasoning.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d
        <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d
        <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3e"><span class="nb">intros</span> wfa wfb wfc wfd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk3f"><span class="nb">apply</span> reshape.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp d [a; b; c] <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    <span class="c">(* Now the goal has the right shape *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk40"><span class="kn">Lemma</span> <span class="nf">lhs_and_to_imp_r</span> <span class="nv">Î“</span> (<span class="nv">g</span> <span class="nv">x</span> : Pattern) (<span class="nv">xs</span> : list Pattern) <span class="nv">i</span> :
    well_formed g -&gt;
    well_formed x -&gt;
    Pattern.<span class="kn">wf</span> xs -&gt;
    <span class="kr">forall</span> (<span class="nv">r</span> : ImpReshapeS g (x::xs)),
       Î“ âŠ¢i ((foldr (patt_and) x xs) ---&gt; g) <span class="nb">using</span> i -&gt;
       Î“ âŠ¢i untagPattern (irs_flattened _ _ r) <span class="nb">using</span> i .</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g (x :: xs),
        Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i
        â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk41"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed g
â†’ well_formed x
  â†’ Pattern.<span class="kn">wf</span> xs
    â†’ <span class="kr">âˆ€</span> <span class="nv">r</span> : ImpReshapeS g (x :: xs),
        Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i
        â†’ Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk42"><span class="nb">intros</span> wfg wfx wfxs r H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i r <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk43"><span class="nb">eapply</span> cast_proof&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk44" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk44"><hr></label><div class="goal-conclusion">Î“ âŠ¢i <span class="nl">?Ï•</span> <span class="nb">using</span> i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk45">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r = <span class="nl">?Ï•</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> irs_pf; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk46">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>ImpReshapeS g (x :: xs)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk47"><span class="nb">clear</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>g, x</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>list Pattern</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>ProofInfo</span></span></span><br><span><var>wfg</var><span class="hyp-type"><b>: </b><span>well_formed g</span></span></span><br><span><var>wfx</var><span class="hyp-type"><b>: </b><span>well_formed x</span></span></span><br><span><var>wfxs</var><span class="hyp-type"><b>: </b><span>Pattern.<span class="kn">wf</span> xs</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Î“ âŠ¢i foldr patt_and x xs ---&gt; g <span class="nb">using</span> i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i foldr patt_imp g (x :: xs) <span class="nb">using</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> lhs_and_to_imp_meta; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk48"><span class="kn">Local Example</span> <span class="nf">ex_match</span> <span class="nv">Î“</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> <span class="nv">d</span>:
    well_formed a -&gt;
    well_formed b -&gt;
    well_formed c -&gt;
    well_formed d -&gt;
    Î“ âŠ¢i a ---&gt; (b ---&gt; (c ---&gt; d)) <span class="nb">using</span> BasicReasoning.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d
        <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk49"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed a
â†’ well_formed b
  â†’ well_formed c
    â†’ well_formed d
      â†’ Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d
        <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk4a"><span class="nb">intros</span> wfa wfb wfc wfd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Î“ âŠ¢i a ---&gt; b ---&gt; c ---&gt; d <span class="nb">using</span> BasicReasoning</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ProofMode-reshaper-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="ProofMode-reshaper-v-chk4b"><span class="nb">apply</span> lhs_and_to_imp_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">well_formed d</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk4c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk4c"><hr></label><div class="goal-conclusion">well_formed a</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk4d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk4d"><hr></label><div class="goal-conclusion">Pattern.<span class="kn">wf</span> [b; c]</div></blockquote><input class="alectryon-extra-goal-toggle" id="ProofMode-reshaper-v-chk4e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Î£</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>Î“</var><span class="hyp-type"><b>: </b><span>Theory</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Pattern</span></span></span><br><span><var>wfa</var><span class="hyp-type"><b>: </b><span>well_formed a</span></span></span><br><span><var>wfb</var><span class="hyp-type"><b>: </b><span>well_formed b</span></span></span><br><span><var>wfc</var><span class="hyp-type"><b>: </b><span>well_formed c</span></span></span><br><span><var>wfd</var><span class="hyp-type"><b>: </b><span>well_formed d</span></span></span><br></div><label class="goal-separator" for="ProofMode-reshaper-v-chk4e"><hr></label><div class="goal-conclusion">Î“ âŠ¢i foldr patt_and a [b; c] ---&gt; d
<span class="nb">using</span> BasicReasoning</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">with_signature</span>.</span><span class="alectryon-wsp">
</span></span></pre></article></body></html>